var fa=Object.create;var ns=Object.defineProperty;var da=Object.getOwnPropertyDescriptor;var ha=Object.getOwnPropertyNames;var pa=Object.getPrototypeOf,ma=Object.prototype.hasOwnProperty;var $=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var ga=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ha(e))!ma.call(r,s)&&s!==t&&ns(r,s,{get:()=>e[s],enumerable:!(n=da(e,s))||n.enumerable});return r};var ss=(r,e,t)=>(t=r!=null?fa(pa(r)):{},ga(e||!r||!r.__esModule?ns(t,"default",{value:r,enumerable:!0}):t,r));var $s=$(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.Duration=void 0;var or=1,vt=1e3*or,_t=60*vt,Et=60*_t,sr=24*Et,Gr=7*sr,ir=or/1e3,Is=ir/1e3,As={ns:Is,us:ir,\u00B5s:ir,\u03BCs:ir,ms:or,s:vt,m:_t,h:Et,d:sr,w:Gr},Cs=function(){function r(e){if(e instanceof r){this._milliseconds=e.valueOf();return}switch(typeof e){case"number":if(!isFinite(e))throw new Error("invalid duration: "+e);this._milliseconds=e;break;case"string":this._milliseconds=r.parse(e).valueOf();break;case"undefined":this._milliseconds=0;break;default:throw new Error("invalid duration: "+e)}}return r.microseconds=function(e){var t=Math.floor(e/1e3);return new r(t)},r.milliseconds=function(e){return new r(e*or)},r.seconds=function(e){return new r(e*vt)},r.minutes=function(e){return new r(e*_t)},r.hours=function(e){return new r(e*Et)},r.days=function(e){return new r(e*sr)},r.weeks=function(e){return new r(e*Gr)},r.prototype.nanoseconds=function(){return Math.floor(this._milliseconds/Is)},r.prototype.microseconds=function(){return Math.floor(this._milliseconds/ir)},r.prototype.milliseconds=function(){return this._milliseconds},r.prototype.seconds=function(){return Math.floor(this._milliseconds/vt)},r.prototype.minutes=function(){return Math.floor(this._milliseconds/_t)},r.prototype.hours=function(){return Math.floor(this._milliseconds/Et)},r.prototype.days=function(){return Math.floor(this._milliseconds/sr)},r.prototype.weeks=function(){return Math.floor(this._milliseconds/Gr)},r.prototype.toString=function(){var e="",t=Math.abs(this._milliseconds),n=this._milliseconds<0?"-":"";if(t===0)return"0";var s=Math.floor(t/Et);s!==0&&(t-=Et*s,e+=s.toString()+"h");var i=Math.floor(t/_t);i!==0&&(t-=_t*i,e+=i.toString()+"m");var o=Math.floor(t/vt);return o!==0&&(t-=vt*o,e+=o.toString()+"s"),t!==0&&(e+=t.toString()+"ms"),n+e},r.prototype.valueOf=function(){return this._milliseconds},r.prototype.abs=function(){return new r(Math.abs(this._milliseconds))},r.parse=function(e){if(e==="0"||e==="+0"||e==="-0")return new r(0);for(var t=/([\-\+\d\.]+)([a-zµμ]+)/g,n=0,s=0,i=e[0]==="-"?-1:1,o;;){var a=t.exec(e);if(!a)break;var u=a[2];if(o=Math.abs(parseFloat(a[1])),s++,isNaN(o))throw new Error("invalid duration");if(typeof As[u]>"u")throw new Error("invalid unit: "+u);n+=o*As[u]}if(s===0)throw new Error("invalid duration");return new r(Math.floor(n)*i)},r.valueOf=function(e){return new r(e).valueOf()},r.prototype.truncate=function(e){var t=r.valueOf(e);return new r(t*Math.round(this._milliseconds/t))},r.prototype.isGreaterThan=function(e){return this.valueOf()>r.valueOf(e)},r.prototype.isLessThan=function(e){return this.valueOf()<r.valueOf(e)},r.prototype.isEqualTo=function(e){return this.valueOf()===r.valueOf(e)},r.prototype.after=function(e){return new Date(e.valueOf()+this._milliseconds)},r.since=function(e){return new r(new Date().valueOf()-e.valueOf())},r.until=function(e){return new r(e.valueOf()-new Date().valueOf())},r.between=function(e,t){return new r(t.valueOf()-e.valueOf())},r.add=function(e,t){return new r(r.valueOf(e)+r.valueOf(t))},r.subtract=function(e,t){return new r(r.valueOf(e)-r.valueOf(t))},r.multiply=function(e,t){return new r(r.valueOf(e)*r.valueOf(t))},r.divide=function(e,t){return r.valueOf(e)/r.valueOf(t)},r.millisecond=new r(or),r.second=new r(vt),r.minute=new r(_t),r.hour=new r(Et),r.day=new r(sr),r.week=new r(Gr),r.nanoseconds=function(e){var t=Math.floor(e/1e6);return new r(t)},r}();ar.Duration=Cs;ar.default=Cs});var lr=$((Lh,pi)=>{var Ou="2.0.0",Tu=Number.MAX_SAFE_INTEGER||9007199254740991,Nu=16,ku=256-6,Ru=["major","premajor","minor","preminor","patch","prepatch","prerelease"];pi.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Nu,MAX_SAFE_BUILD_LENGTH:ku,MAX_SAFE_INTEGER:Tu,RELEASE_TYPES:Ru,SEMVER_SPEC_VERSION:Ou,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var fr=$((jh,mi)=>{var Su=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};mi.exports=Su});var Zt=$((Ye,gi)=>{var{MAX_SAFE_COMPONENT_LENGTH:Un,MAX_SAFE_BUILD_LENGTH:Au,MAX_LENGTH:Iu}=lr(),Cu=fr();Ye=gi.exports={};var $u=Ye.re=[],Pu=Ye.safeRe=[],_=Ye.src=[],E=Ye.t={},Lu=0,Mn="[a-zA-Z0-9-]",ju=[["\\s",1],["\\d",Iu],[Mn,Au]],Du=r=>{for(let[e,t]of ju)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},L=(r,e,t)=>{let n=Du(e),s=Lu++;Cu(r,s,e),E[r]=s,_[s]=e,$u[s]=new RegExp(e,t?"g":void 0),Pu[s]=new RegExp(n,t?"g":void 0)};L("NUMERICIDENTIFIER","0|[1-9]\\d*");L("NUMERICIDENTIFIERLOOSE","\\d+");L("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Mn}*`);L("MAINVERSION",`(${_[E.NUMERICIDENTIFIER]})\\.(${_[E.NUMERICIDENTIFIER]})\\.(${_[E.NUMERICIDENTIFIER]})`);L("MAINVERSIONLOOSE",`(${_[E.NUMERICIDENTIFIERLOOSE]})\\.(${_[E.NUMERICIDENTIFIERLOOSE]})\\.(${_[E.NUMERICIDENTIFIERLOOSE]})`);L("PRERELEASEIDENTIFIER",`(?:${_[E.NUMERICIDENTIFIER]}|${_[E.NONNUMERICIDENTIFIER]})`);L("PRERELEASEIDENTIFIERLOOSE",`(?:${_[E.NUMERICIDENTIFIERLOOSE]}|${_[E.NONNUMERICIDENTIFIER]})`);L("PRERELEASE",`(?:-(${_[E.PRERELEASEIDENTIFIER]}(?:\\.${_[E.PRERELEASEIDENTIFIER]})*))`);L("PRERELEASELOOSE",`(?:-?(${_[E.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${_[E.PRERELEASEIDENTIFIERLOOSE]})*))`);L("BUILDIDENTIFIER",`${Mn}+`);L("BUILD",`(?:\\+(${_[E.BUILDIDENTIFIER]}(?:\\.${_[E.BUILDIDENTIFIER]})*))`);L("FULLPLAIN",`v?${_[E.MAINVERSION]}${_[E.PRERELEASE]}?${_[E.BUILD]}?`);L("FULL",`^${_[E.FULLPLAIN]}$`);L("LOOSEPLAIN",`[v=\\s]*${_[E.MAINVERSIONLOOSE]}${_[E.PRERELEASELOOSE]}?${_[E.BUILD]}?`);L("LOOSE",`^${_[E.LOOSEPLAIN]}$`);L("GTLT","((?:<|>)?=?)");L("XRANGEIDENTIFIERLOOSE",`${_[E.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);L("XRANGEIDENTIFIER",`${_[E.NUMERICIDENTIFIER]}|x|X|\\*`);L("XRANGEPLAIN",`[v=\\s]*(${_[E.XRANGEIDENTIFIER]})(?:\\.(${_[E.XRANGEIDENTIFIER]})(?:\\.(${_[E.XRANGEIDENTIFIER]})(?:${_[E.PRERELEASE]})?${_[E.BUILD]}?)?)?`);L("XRANGEPLAINLOOSE",`[v=\\s]*(${_[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${_[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${_[E.XRANGEIDENTIFIERLOOSE]})(?:${_[E.PRERELEASELOOSE]})?${_[E.BUILD]}?)?)?`);L("XRANGE",`^${_[E.GTLT]}\\s*${_[E.XRANGEPLAIN]}$`);L("XRANGELOOSE",`^${_[E.GTLT]}\\s*${_[E.XRANGEPLAINLOOSE]}$`);L("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Un}})(?:\\.(\\d{1,${Un}}))?(?:\\.(\\d{1,${Un}}))?`);L("COERCE",`${_[E.COERCEPLAIN]}(?:$|[^\\d])`);L("COERCEFULL",_[E.COERCEPLAIN]+`(?:${_[E.PRERELEASE]})?(?:${_[E.BUILD]})?(?:$|[^\\d])`);L("COERCERTL",_[E.COERCE],!0);L("COERCERTLFULL",_[E.COERCEFULL],!0);L("LONETILDE","(?:~>?)");L("TILDETRIM",`(\\s*)${_[E.LONETILDE]}\\s+`,!0);Ye.tildeTrimReplace="$1~";L("TILDE",`^${_[E.LONETILDE]}${_[E.XRANGEPLAIN]}$`);L("TILDELOOSE",`^${_[E.LONETILDE]}${_[E.XRANGEPLAINLOOSE]}$`);L("LONECARET","(?:\\^)");L("CARETTRIM",`(\\s*)${_[E.LONECARET]}\\s+`,!0);Ye.caretTrimReplace="$1^";L("CARET",`^${_[E.LONECARET]}${_[E.XRANGEPLAIN]}$`);L("CARETLOOSE",`^${_[E.LONECARET]}${_[E.XRANGEPLAINLOOSE]}$`);L("COMPARATORLOOSE",`^${_[E.GTLT]}\\s*(${_[E.LOOSEPLAIN]})$|^$`);L("COMPARATOR",`^${_[E.GTLT]}\\s*(${_[E.FULLPLAIN]})$|^$`);L("COMPARATORTRIM",`(\\s*)${_[E.GTLT]}\\s*(${_[E.LOOSEPLAIN]}|${_[E.XRANGEPLAIN]})`,!0);Ye.comparatorTrimReplace="$1$2$3";L("HYPHENRANGE",`^\\s*(${_[E.XRANGEPLAIN]})\\s+-\\s+(${_[E.XRANGEPLAIN]})\\s*$`);L("HYPHENRANGELOOSE",`^\\s*(${_[E.XRANGEPLAINLOOSE]})\\s+-\\s+(${_[E.XRANGEPLAINLOOSE]})\\s*$`);L("STAR","(<|>)?=?\\s*\\*");L("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");L("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Kr=$((Dh,wi)=>{var Uu=Object.freeze({loose:!0}),Mu=Object.freeze({}),qu=r=>r?typeof r!="object"?Uu:r:Mu;wi.exports=qu});var qn=$((Uh,vi)=>{var yi=/^[0-9]+$/,bi=(r,e)=>{let t=yi.test(r),n=yi.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},Vu=(r,e)=>bi(e,r);vi.exports={compareIdentifiers:bi,rcompareIdentifiers:Vu}});var ue=$((Mh,Oi)=>{var Qr=fr(),{MAX_LENGTH:_i,MAX_SAFE_INTEGER:en}=lr(),{safeRe:Ei,t:xi}=Zt(),Fu=Kr(),{compareIdentifiers:Gt}=qn(),ve=class{constructor(e,t){if(t=Fu(t),e instanceof ve){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>_i)throw new TypeError(`version is longer than ${_i} characters`);Qr("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Ei[xi.LOOSE]:Ei[xi.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>en||this.major<0)throw new TypeError("Invalid major version");if(this.minor>en||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>en||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<en)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Qr("SemVer.compare",this.version,this.options,e),!(e instanceof ve)){if(typeof e=="string"&&e===this.version)return 0;e=new ve(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ve||(e=new ve(e,this.options)),Gt(this.major,e.major)||Gt(this.minor,e.minor)||Gt(this.patch,e.patch)}comparePre(e){if(e instanceof ve||(e=new ve(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(Qr("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Gt(n,s)}while(++t)}compareBuild(e){e instanceof ve||(e=new ve(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(Qr("build compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Gt(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),Gt(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Oi.exports=ve});var kt=$((qh,Ni)=>{var Ti=ue(),Zu=(r,e,t=!1)=>{if(r instanceof Ti)return r;try{return new Ti(r,e)}catch(n){if(!t)return null;throw n}};Ni.exports=Zu});var Ri=$((Vh,ki)=>{var Gu=kt(),Bu=(r,e)=>{let t=Gu(r,e);return t?t.version:null};ki.exports=Bu});var Ai=$((Fh,Si)=>{var Wu=kt(),zu=(r,e)=>{let t=Wu(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Si.exports=zu});var $i=$((Zh,Ci)=>{var Ii=ue(),Xu=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new Ii(r instanceof Ii?r.version:r,t).inc(e,n,s).version}catch{return null}};Ci.exports=Xu});var ji=$((Gh,Li)=>{var Pi=kt(),Yu=(r,e)=>{let t=Pi(r,null,!0),n=Pi(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":"prerelease"};Li.exports=Yu});var Ui=$((Bh,Di)=>{var Hu=ue(),Ju=(r,e)=>new Hu(r,e).major;Di.exports=Ju});var qi=$((Wh,Mi)=>{var Ku=ue(),Qu=(r,e)=>new Ku(r,e).minor;Mi.exports=Qu});var Fi=$((zh,Vi)=>{var el=ue(),tl=(r,e)=>new el(r,e).patch;Vi.exports=tl});var Gi=$((Xh,Zi)=>{var rl=kt(),nl=(r,e)=>{let t=rl(r,e);return t&&t.prerelease.length?t.prerelease:null};Zi.exports=nl});var Te=$((Yh,Wi)=>{var Bi=ue(),sl=(r,e,t)=>new Bi(r,t).compare(new Bi(e,t));Wi.exports=sl});var Xi=$((Hh,zi)=>{var il=Te(),ol=(r,e,t)=>il(e,r,t);zi.exports=ol});var Hi=$((Jh,Yi)=>{var al=Te(),cl=(r,e)=>al(r,e,!0);Yi.exports=cl});var tn=$((Kh,Ki)=>{var Ji=ue(),ul=(r,e,t)=>{let n=new Ji(r,t),s=new Ji(e,t);return n.compare(s)||n.compareBuild(s)};Ki.exports=ul});var eo=$((Qh,Qi)=>{var ll=tn(),fl=(r,e)=>r.sort((t,n)=>ll(t,n,e));Qi.exports=fl});var ro=$((ep,to)=>{var dl=tn(),hl=(r,e)=>r.sort((t,n)=>dl(n,t,e));to.exports=hl});var dr=$((tp,no)=>{var pl=Te(),ml=(r,e,t)=>pl(r,e,t)>0;no.exports=ml});var rn=$((rp,so)=>{var gl=Te(),wl=(r,e,t)=>gl(r,e,t)<0;so.exports=wl});var Vn=$((np,io)=>{var yl=Te(),bl=(r,e,t)=>yl(r,e,t)===0;io.exports=bl});var Fn=$((sp,oo)=>{var vl=Te(),_l=(r,e,t)=>vl(r,e,t)!==0;oo.exports=_l});var nn=$((ip,ao)=>{var El=Te(),xl=(r,e,t)=>El(r,e,t)>=0;ao.exports=xl});var sn=$((op,co)=>{var Ol=Te(),Tl=(r,e,t)=>Ol(r,e,t)<=0;co.exports=Tl});var Zn=$((ap,uo)=>{var Nl=Vn(),kl=Fn(),Rl=dr(),Sl=nn(),Al=rn(),Il=sn(),Cl=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Nl(r,t,n);case"!=":return kl(r,t,n);case">":return Rl(r,t,n);case">=":return Sl(r,t,n);case"<":return Al(r,t,n);case"<=":return Il(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};uo.exports=Cl});var fo=$((cp,lo)=>{var $l=ue(),Pl=kt(),{safeRe:on,t:an}=Zt(),Ll=(r,e)=>{if(r instanceof $l)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(e.includePrerelease?on[an.COERCEFULL]:on[an.COERCE]);else{let u=e.includePrerelease?on[an.COERCERTLFULL]:on[an.COERCERTL],c;for(;(c=u.exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||c.index+c[0].length!==t.index+t[0].length)&&(t=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(t===null)return null;let n=t[2],s=t[3]||"0",i=t[4]||"0",o=e.includePrerelease&&t[5]?`-${t[5]}`:"",a=e.includePrerelease&&t[6]?`+${t[6]}`:"";return Pl(`${n}.${s}.${i}${o}${a}`,e)};lo.exports=Ll});var po=$((up,ho)=>{var Gn=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,t)}return this}};ho.exports=Gn});var Ne=$((lp,yo)=>{var jl=/\s+/g,Rt=class{constructor(e,t){if(t=Ul(t),e instanceof Rt)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Rt(e.raw,t);if(e instanceof Bn)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(jl," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!go(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Bl(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&Zl)|(this.options.loose&&Gl))+":"+e,s=mo.get(n);if(s)return s;let i=this.options.loose,o=i?me[de.HYPHENRANGELOOSE]:me[de.HYPHENRANGE];e=e.replace(o,tf(this.options.includePrerelease)),Y("hyphen replace",e),e=e.replace(me[de.COMPARATORTRIM],ql),Y("comparator trim",e),e=e.replace(me[de.TILDETRIM],Vl),Y("tilde trim",e),e=e.replace(me[de.CARETTRIM],Fl),Y("caret trim",e);let a=e.split(" ").map(f=>Wl(f,this.options)).join(" ").split(/\s+/).map(f=>ef(f,this.options));i&&(a=a.filter(f=>(Y("loose invalid filter",f,this.options),!!f.match(me[de.COMPARATORLOOSE])))),Y("range list",a);let u=new Map,c=a.map(f=>new Bn(f,this.options));for(let f of c){if(go(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let l=[...u.values()];return mo.set(n,l),l}intersects(e,t){if(!(e instanceof Rt))throw new TypeError("a Range is required");return this.set.some(n=>wo(n,t)&&e.set.some(s=>wo(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Ml(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(rf(this.set[t],e,this.options))return!0;return!1}};yo.exports=Rt;var Dl=po(),mo=new Dl,Ul=Kr(),Bn=hr(),Y=fr(),Ml=ue(),{safeRe:me,t:de,comparatorTrimReplace:ql,tildeTrimReplace:Vl,caretTrimReplace:Fl}=Zt(),{FLAG_INCLUDE_PRERELEASE:Zl,FLAG_LOOSE:Gl}=lr(),go=r=>r.value==="<0.0.0-0",Bl=r=>r.value==="",wo=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},Wl=(r,e)=>(Y("comp",r,e),r=Yl(r,e),Y("caret",r),r=zl(r,e),Y("tildes",r),r=Jl(r,e),Y("xrange",r),r=Ql(r,e),Y("stars",r),r),he=r=>!r||r.toLowerCase()==="x"||r==="*",zl=(r,e)=>r.trim().split(/\s+/).map(t=>Xl(t,e)).join(" "),Xl=(r,e)=>{let t=e.loose?me[de.TILDELOOSE]:me[de.TILDE];return r.replace(t,(n,s,i,o,a)=>{Y("tilde",r,n,s,i,o,a);let u;return he(s)?u="":he(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:he(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(Y("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Y("tilde return",u),u})},Yl=(r,e)=>r.trim().split(/\s+/).map(t=>Hl(t,e)).join(" "),Hl=(r,e)=>{Y("caret",r,e);let t=e.loose?me[de.CARETLOOSE]:me[de.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{Y("caret",r,s,i,o,a,u);let c;return he(i)?c="":he(o)?c=`>=${i}.0.0${n} <${+i+1}.0.0-0`:he(a)?i==="0"?c=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:c=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(Y("replaceCaret pr",u),i==="0"?o==="0"?c=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:c=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:c=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(Y("no pr"),i==="0"?o==="0"?c=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:c=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:c=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),Y("caret return",c),c})},Jl=(r,e)=>(Y("replaceXRanges",r,e),r.split(/\s+/).map(t=>Kl(t,e)).join(" ")),Kl=(r,e)=>{r=r.trim();let t=e.loose?me[de.XRANGELOOSE]:me[de.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{Y("xRange",r,n,s,i,o,a,u);let c=he(i),l=c||he(o),f=l||he(a),h=f;return s==="="&&h&&(s=""),u=e.includePrerelease?"-0":"",c?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&h?(l&&(o=0),a=0,s===">"?(s=">=",l?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",l?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):l?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:f&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),Y("xRange return",n),n})},Ql=(r,e)=>(Y("replaceStars",r,e),r.trim().replace(me[de.STAR],"")),ef=(r,e)=>(Y("replaceGTE0",r,e),r.trim().replace(me[e.includePrerelease?de.GTE0PRE:de.GTE0],"")),tf=r=>(e,t,n,s,i,o,a,u,c,l,f,h)=>(he(n)?t="":he(s)?t=`>=${n}.0.0${r?"-0":""}`:he(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,he(c)?u="":he(l)?u=`<${+c+1}.0.0-0`:he(f)?u=`<${c}.${+l+1}.0-0`:h?u=`<=${c}.${l}.${f}-${h}`:r?u=`<${c}.${l}.${+f+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),rf=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Y(r[n].semver),r[n].semver!==Bn.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var hr=$((fp,Oo)=>{var pr=Symbol("SemVer ANY"),Bt=class{static get ANY(){return pr}constructor(e,t){if(t=bo(t),e instanceof Bt){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),zn("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===pr?this.value="":this.value=this.operator+this.semver.version,zn("comp",this)}parse(e){let t=this.options.loose?vo[_o.COMPARATORLOOSE]:vo[_o.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Eo(n[2],this.options.loose):this.semver=pr}toString(){return this.value}test(e){if(zn("Comparator.test",e,this.options.loose),this.semver===pr||e===pr)return!0;if(typeof e=="string")try{e=new Eo(e,this.options)}catch{return!1}return Wn(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Bt))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new xo(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new xo(this.value,t).test(e.semver):(t=bo(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Wn(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Wn(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Oo.exports=Bt;var bo=Kr(),{safeRe:vo,t:_o}=Zt(),Wn=Zn(),zn=fr(),Eo=ue(),xo=Ne()});var mr=$((dp,To)=>{var nf=Ne(),sf=(r,e,t)=>{try{e=new nf(e,t)}catch{return!1}return e.test(r)};To.exports=sf});var ko=$((hp,No)=>{var of=Ne(),af=(r,e)=>new of(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));No.exports=af});var So=$((pp,Ro)=>{var cf=ue(),uf=Ne(),lf=(r,e,t)=>{let n=null,s=null,i=null;try{i=new uf(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new cf(n,t))}),n};Ro.exports=lf});var Io=$((mp,Ao)=>{var ff=ue(),df=Ne(),hf=(r,e,t)=>{let n=null,s=null,i=null;try{i=new df(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new ff(n,t))}),n};Ao.exports=hf});var Po=$((gp,$o)=>{var Xn=ue(),pf=Ne(),Co=dr(),mf=(r,e)=>{r=new pf(r,e);let t=new Xn("0.0.0");if(r.test(t)||(t=new Xn("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new Xn(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||Co(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||Co(t,i))&&(t=i)}return t&&r.test(t)?t:null};$o.exports=mf});var jo=$((wp,Lo)=>{var gf=Ne(),wf=(r,e)=>{try{return new gf(r,e).range||"*"}catch{return null}};Lo.exports=wf});var cn=$((yp,qo)=>{var yf=ue(),Mo=hr(),{ANY:bf}=Mo,vf=Ne(),_f=mr(),Do=dr(),Uo=rn(),Ef=sn(),xf=nn(),Of=(r,e,t,n)=>{r=new yf(r,n),e=new vf(e,n);let s,i,o,a,u;switch(t){case">":s=Do,i=Ef,o=Uo,a=">",u=">=";break;case"<":s=Uo,i=xf,o=Do,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(_f(r,e,n))return!1;for(let c=0;c<e.set.length;++c){let l=e.set[c],f=null,h=null;if(l.forEach(p=>{p.semver===bf&&(p=new Mo(">=0.0.0")),f=f||p,h=h||p,s(p.semver,f.semver,n)?f=p:o(p.semver,h.semver,n)&&(h=p)}),f.operator===a||f.operator===u||(!h.operator||h.operator===a)&&i(r,h.semver))return!1;if(h.operator===u&&o(r,h.semver))return!1}return!0};qo.exports=Of});var Fo=$((bp,Vo)=>{var Tf=cn(),Nf=(r,e,t)=>Tf(r,e,">",t);Vo.exports=Nf});var Go=$((vp,Zo)=>{var kf=cn(),Rf=(r,e,t)=>kf(r,e,"<",t);Zo.exports=Rf});var zo=$((_p,Wo)=>{var Bo=Ne(),Sf=(r,e,t)=>(r=new Bo(r,t),e=new Bo(e,t),r.intersects(e,t));Wo.exports=Sf});var Yo=$((Ep,Xo)=>{var Af=mr(),If=Te();Xo.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((l,f)=>If(l,f,t));for(let l of o)Af(l,e,t)?(i=l,s||(s=l)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[l,f]of n)l===f?a.push(l):!f&&l===o[0]?a.push("*"):f?l===o[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var ta=$((xp,ea)=>{var Ho=Ne(),Hn=hr(),{ANY:Yn}=Hn,gr=mr(),Jn=Te(),Cf=(r,e,t={})=>{if(r===e)return!0;r=new Ho(r,t),e=new Ho(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=Pf(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},$f=[new Hn(">=0.0.0-0")],Jo=[new Hn(">=0.0.0")],Pf=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===Yn){if(e.length===1&&e[0].semver===Yn)return!0;t.includePrerelease?r=$f:r=Jo}if(e.length===1&&e[0].semver===Yn){if(t.includePrerelease)return!0;e=Jo}let n=new Set,s,i;for(let p of r)p.operator===">"||p.operator===">="?s=Ko(s,p,t):p.operator==="<"||p.operator==="<="?i=Qo(i,p,t):n.add(p.semver);if(n.size>1)return null;let o;if(s&&i){if(o=Jn(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(s&&!gr(p,String(s),t)||i&&!gr(p,String(i),t))return null;for(let q of e)if(!gr(p,String(q),t))return!1;return!0}let a,u,c,l,f=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&i.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let p of e){if(l=l||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",s){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(a=Ko(s,p,t),a===p&&a!==s)return!1}else if(s.operator===">="&&!gr(s.semver,String(p),t))return!1}if(i){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(u=Qo(i,p,t),u===p&&u!==i)return!1}else if(i.operator==="<="&&!gr(i.semver,String(p),t))return!1}if(!p.operator&&(i||s)&&o!==0)return!1}return!(s&&c&&!i&&o!==0||i&&l&&!s&&o!==0||h||f)},Ko=(r,e,t)=>{if(!r)return e;let n=Jn(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},Qo=(r,e,t)=>{if(!r)return e;let n=Jn(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};ea.exports=Cf});var ia=$((Op,sa)=>{var Kn=Zt(),ra=lr(),Lf=ue(),na=qn(),jf=kt(),Df=Ri(),Uf=Ai(),Mf=$i(),qf=ji(),Vf=Ui(),Ff=qi(),Zf=Fi(),Gf=Gi(),Bf=Te(),Wf=Xi(),zf=Hi(),Xf=tn(),Yf=eo(),Hf=ro(),Jf=dr(),Kf=rn(),Qf=Vn(),ed=Fn(),td=nn(),rd=sn(),nd=Zn(),sd=fo(),id=hr(),od=Ne(),ad=mr(),cd=ko(),ud=So(),ld=Io(),fd=Po(),dd=jo(),hd=cn(),pd=Fo(),md=Go(),gd=zo(),wd=Yo(),yd=ta();sa.exports={parse:jf,valid:Df,clean:Uf,inc:Mf,diff:qf,major:Vf,minor:Ff,patch:Zf,prerelease:Gf,compare:Bf,rcompare:Wf,compareLoose:zf,compareBuild:Xf,sort:Yf,rsort:Hf,gt:Jf,lt:Kf,eq:Qf,neq:ed,gte:td,lte:rd,cmp:nd,coerce:sd,Comparator:id,Range:od,satisfies:ad,toComparators:cd,maxSatisfying:ud,minSatisfying:ld,minVersion:fd,validRange:dd,outside:hd,gtr:pd,ltr:md,intersects:gd,simplifyRange:wd,subset:yd,SemVer:Lf,re:Kn.re,src:Kn.src,tokens:Kn.t,SEMVER_SPEC_VERSION:ra.SEMVER_SPEC_VERSION,RELEASE_TYPES:ra.RELEASE_TYPES,compareIdentifiers:na.compareIdentifiers,rcompareIdentifiers:na.rcompareIdentifiers}});var te=class extends Error{},Ce=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NoActiveSocket"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"No socket is currently connected to a SurrealDB instance. Please call the .connect() method first!"})}},is=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NoConnectionDetails"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"No connection details for the HTTP api have been provided. Please call the .connect() method first!"})}},os=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnexpectedResponse"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"The returned response from the SurrealDB instance is in an unexpected format. Unable to process response!"})}},as=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidURLProvided"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"The provided string is either not a URL or is a URL but with an invalid protocol!"})}},St=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EngineDisconnected"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"The engine reported the connection to SurrealDB has dropped"})}},zt=class extends te{constructor(e){super(),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnexpectedServerResponse"}),this.message=`${e}`}},_r=class extends te{constructor(e){super(),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnexpectedConnectionError"}),this.message=`${e}`}},Er=class extends te{constructor(e){super(),Object.defineProperty(this,"engine",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedEngine"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"The engine you are trying to connect to is not supported or configured."})}},Xt=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectionUnavailable"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"There is no connection available at this moment."})}},xr=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MissingNamespaceDatabase"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"There are no namespace and/or database configured."})}},Or=class extends te{constructor(e,t,n,s){super(),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"statusText",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"buffer",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpConnectionError"})}},W=class extends te{constructor(e){super(),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResponseError"})}},At=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NoNamespaceSpecified"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"Please specify a namespace to use."})}},It=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NoDatabaseSpecified"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"Please specify a database to use."})}},Yt=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NoTokenReturned"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"Did not receive an authentication token."})}},Tr=class extends te{constructor(e,t){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedVersion"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"supportedRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.version=e,this.supportedRange=t,this.message=`The version "${e}" reported by the engine is not supported by this library, expected a version that satisfies "${t}".`}},Ht=class extends te{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"VersionRetrievalFailure"}),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:"Failed to retrieve remote version. If the server is behind a proxy, make sure it's configured correctly."})}};var Nr=class{constructor(e=3e4){Object.defineProperty(this,"pinger",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.interval=e}start(e){this.pinger=setInterval(e,this.interval)}stop(){clearInterval(this.pinger)}};var Z;(function(r){r.assertEqual=s=>s;function e(s){}r.assertIs=e;function t(s){throw new Error}r.assertNever=t,r.arrayToEnum=s=>{let i={};for(let o of s)i[o]=o;return i},r.getValidEnumValues=s=>{let i=r.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(let a of i)o[a]=s[a];return r.objectValues(o)},r.objectValues=s=>r.objectKeys(s).map(function(i){return s[i]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},r.find=(s,i)=>{for(let o of s)if(i(o))return o},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}r.joinValues=n,r.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Z||(Z={}));var dn;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(dn||(dn={}));var v=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Je=r=>{switch(typeof r){case"undefined":return v.undefined;case"string":return v.string;case"number":return isNaN(r)?v.nan:v.number;case"boolean":return v.boolean;case"function":return v.function;case"bigint":return v.bigint;case"symbol":return v.symbol;case"object":return Array.isArray(r)?v.array:r===null?v.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?v.promise:typeof Map<"u"&&r instanceof Map?v.map:typeof Set<"u"&&r instanceof Set?v.set:typeof Date<"u"&&r instanceof Date?v.date:v.object;default:return v.unknown}},w=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wa=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),le=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(i){return i.message},n={_errors:[]},s=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let a=n,u=0;for(;u<o.path.length;){let c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return s(this),n}static assert(e){if(!(e instanceof le))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};le.create=r=>new le(r);var Pt=(r,e)=>{let t;switch(r.code){case w.invalid_type:r.received===v.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case w.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Z.jsonStringifyReplacer)}`;break;case w.unrecognized_keys:t=`Unrecognized key(s) in object: ${Z.joinValues(r.keys,", ")}`;break;case w.invalid_union:t="Invalid input";break;case w.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Z.joinValues(r.options)}`;break;case w.invalid_enum_value:t=`Invalid enum value. Expected ${Z.joinValues(r.options)}, received '${r.received}'`;break;case w.invalid_arguments:t="Invalid function arguments";break;case w.invalid_return_type:t="Invalid function return type";break;case w.invalid_date:t="Invalid date";break;case w.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Z.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case w.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case w.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case w.custom:t="Invalid input";break;case w.invalid_intersection_types:t="Intersection results could not be merged";break;case w.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case w.not_finite:t="Number must be finite";break;default:t=e.defaultError,Z.assertNever(r)}return{message:t}},ls=Pt;function ya(r){ls=r}function kr(){return ls}var Rr=r=>{let{data:e,path:t,errorMaps:n,issueData:s}=r,i=[...t,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},ba=[];function b(r,e){let t=kr(),n=Rr({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Pt?void 0:Pt].filter(s=>!!s)});r.common.issues.push(n)}var ne=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let s of t){if(s.status==="aborted")return C;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let s of t){let i=await s.key,o=await s.value;n.push({key:i,value:o})}return ne.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let s of t){let{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return C;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}},C=Object.freeze({status:"aborted"}),$t=r=>({status:"dirty",value:r}),fe=r=>({status:"valid",value:r}),hn=r=>r.status==="aborted",pn=r=>r.status==="dirty",Qt=r=>r.status==="valid",er=r=>typeof Promise<"u"&&r instanceof Promise;function Sr(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function fs(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t}var N;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(N||(N={}));var Jt,Kt,Ee=class{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},cs=(r,e)=>{if(Qt(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new le(r.common.issues);return this._error=t,this._error}}};function j(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:s}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var u,c;let{message:l}=r;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:(u=l??n)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=l??t)!==null&&c!==void 0?c:a.defaultError}},description:s}}var D=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Je(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Je(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ne,ctx:{common:e.parent.common,data:e.data,parsedType:Je(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(er(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let s={common:{issues:[],async:(n=t?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)},i=this._parseSync({data:e,path:s.path,parent:s});return cs(s,i)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(er(s)?s:Promise.resolve(s));return cs(n,i)}refine(e,t){let n=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{let o=e(s),a=()=>i.addIssue({code:w.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof t=="function"?t(n,s):t),!1))}_refinement(e){return new ye({schema:this,typeName:I.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return _e.create(this,this._def)}nullable(){return je.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return we.create(this,this._def)}promise(){return et.create(this,this._def)}or(e){return ut.create([this,e],this._def)}and(e){return lt.create(this,e,this._def)}transform(e){return new ye({...j(this._def),schema:this,typeName:I.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new mt({...j(this._def),innerType:this,defaultValue:t,typeName:I.ZodDefault})}brand(){return new tr({typeName:I.ZodBranded,type:this,...j(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new gt({...j(this._def),innerType:this,catchValue:t,typeName:I.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return wt.create(this,e)}readonly(){return yt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},va=/^c[^\s-]{8,}$/i,_a=/^[0-9a-z]+$/,Ea=/^[0-9A-HJKMNP-TV-Z]{26}$/,xa=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Oa=/^[a-z0-9_-]{21}$/i,Ta=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Na=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ka="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",fn,Ra=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sa=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Aa=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ds="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ia=new RegExp(`^${ds}$`);function hs(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ca(r){return new RegExp(`^${hs(r)}$`)}function ps(r){let e=`${ds}T${hs(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function $a(r,e){return!!((e==="v4"||!e)&&Ra.test(r)||(e==="v6"||!e)&&Sa.test(r))}var ge=class extends D{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==v.string){let i=this._getOrReturnCtx(e);return b(i,{code:w.invalid_type,expected:v.string,received:i.parsedType}),C}let n=new ne,s;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:w.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:w.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?b(s,{code:w.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&b(s,{code:w.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Na.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"email",code:w.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")fn||(fn=new RegExp(ka,"u")),fn.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"emoji",code:w.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")xa.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"uuid",code:w.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Oa.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"nanoid",code:w.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")va.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid",code:w.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")_a.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid2",code:w.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Ea.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ulid",code:w.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),b(s,{validation:"url",code:w.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"regex",code:w.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),b(s,{code:w.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:w.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:w.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?ps(i).test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:w.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Ia.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:w.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Ca(i).test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:w.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Ta.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"duration",code:w.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?$a(e.data,i.version)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ip",code:w.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Aa.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"base64",code:w.invalid_string,message:i.message}),n.dirty()):Z.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(s=>e.test(s),{validation:t,code:w.invalid_string,...N.errToObj(n)})}_addCheck(e){return new ge({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...N.errToObj(e)})}url(e){return this._addCheck({kind:"url",...N.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...N.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...N.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...N.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...N.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...N.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...N.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...N.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...N.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...N.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...N.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...N.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...N.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...N.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...N.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...N.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...N.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...N.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...N.errToObj(t)})}nonempty(e){return this.min(1,N.errToObj(e))}trim(){return new ge({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ge({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ge({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};ge.create=r=>{var e;return new ge({checks:[],typeName:I.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...j(r)})};function Pa(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=t>n?t:n,i=parseInt(r.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}var $e=class extends D{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==v.number){let i=this._getOrReturnCtx(e);return b(i,{code:w.invalid_type,expected:v.number,received:i.parsedType}),C}let n,s=new ne;for(let i of this._def.checks)i.kind==="int"?Z.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{code:w.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),b(n,{code:w.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),b(n,{code:w.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Pa(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),b(n,{code:w.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),b(n,{code:w.not_finite,message:i.message}),s.dirty()):Z.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,N.toString(t))}gt(e,t){return this.setLimit("min",e,!1,N.toString(t))}lte(e,t){return this.setLimit("max",e,!0,N.toString(t))}lt(e,t){return this.setLimit("max",e,!1,N.toString(t))}setLimit(e,t,n,s){return new $e({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:N.toString(s)}]})}_addCheck(e){return new $e({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:N.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:N.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Z.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};$e.create=r=>new $e({checks:[],typeName:I.ZodNumber,coerce:r?.coerce||!1,...j(r)});var Pe=class extends D{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==v.bigint){let i=this._getOrReturnCtx(e);return b(i,{code:w.invalid_type,expected:v.bigint,received:i.parsedType}),C}let n,s=new ne;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),b(n,{code:w.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),b(n,{code:w.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),b(n,{code:w.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Z.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,N.toString(t))}gt(e,t){return this.setLimit("min",e,!1,N.toString(t))}lte(e,t){return this.setLimit("max",e,!0,N.toString(t))}lt(e,t){return this.setLimit("max",e,!1,N.toString(t))}setLimit(e,t,n,s){return new Pe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:N.toString(s)}]})}_addCheck(e){return new Pe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Pe.create=r=>{var e;return new Pe({checks:[],typeName:I.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...j(r)})};var ot=class extends D{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==v.boolean){let n=this._getOrReturnCtx(e);return b(n,{code:w.invalid_type,expected:v.boolean,received:n.parsedType}),C}return fe(e.data)}};ot.create=r=>new ot({typeName:I.ZodBoolean,coerce:r?.coerce||!1,...j(r)});var Ze=class extends D{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==v.date){let i=this._getOrReturnCtx(e);return b(i,{code:w.invalid_type,expected:v.date,received:i.parsedType}),C}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return b(i,{code:w.invalid_date}),C}let n=new ne,s;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:w.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:w.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Z.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ze({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:N.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:N.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Ze.create=r=>new Ze({checks:[],coerce:r?.coerce||!1,typeName:I.ZodDate,...j(r)});var Lt=class extends D{_parse(e){if(this._getType(e)!==v.symbol){let n=this._getOrReturnCtx(e);return b(n,{code:w.invalid_type,expected:v.symbol,received:n.parsedType}),C}return fe(e.data)}};Lt.create=r=>new Lt({typeName:I.ZodSymbol,...j(r)});var at=class extends D{_parse(e){if(this._getType(e)!==v.undefined){let n=this._getOrReturnCtx(e);return b(n,{code:w.invalid_type,expected:v.undefined,received:n.parsedType}),C}return fe(e.data)}};at.create=r=>new at({typeName:I.ZodUndefined,...j(r)});var ct=class extends D{_parse(e){if(this._getType(e)!==v.null){let n=this._getOrReturnCtx(e);return b(n,{code:w.invalid_type,expected:v.null,received:n.parsedType}),C}return fe(e.data)}};ct.create=r=>new ct({typeName:I.ZodNull,...j(r)});var Qe=class extends D{constructor(){super(...arguments),this._any=!0}_parse(e){return fe(e.data)}};Qe.create=r=>new Qe({typeName:I.ZodAny,...j(r)});var Fe=class extends D{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fe(e.data)}};Fe.create=r=>new Fe({typeName:I.ZodUnknown,...j(r)});var ke=class extends D{_parse(e){let t=this._getOrReturnCtx(e);return b(t,{code:w.invalid_type,expected:v.never,received:t.parsedType}),C}};ke.create=r=>new ke({typeName:I.ZodNever,...j(r)});var jt=class extends D{_parse(e){if(this._getType(e)!==v.undefined){let n=this._getOrReturnCtx(e);return b(n,{code:w.invalid_type,expected:v.void,received:n.parsedType}),C}return fe(e.data)}};jt.create=r=>new jt({typeName:I.ZodVoid,...j(r)});var we=class extends D{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==v.array)return b(t,{code:w.invalid_type,expected:v.array,received:t.parsedType}),C;if(s.exactLength!==null){let o=t.data.length>s.exactLength.value,a=t.data.length<s.exactLength.value;(o||a)&&(b(t,{code:o?w.too_big:w.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(b(t,{code:w.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(b(t,{code:w.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>s.type._parseAsync(new Ee(t,o,t.path,a)))).then(o=>ne.mergeArray(n,o));let i=[...t.data].map((o,a)=>s.type._parseSync(new Ee(t,o,t.path,a)));return ne.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new we({...this._def,minLength:{value:e,message:N.toString(t)}})}max(e,t){return new we({...this._def,maxLength:{value:e,message:N.toString(t)}})}length(e,t){return new we({...this._def,exactLength:{value:e,message:N.toString(t)}})}nonempty(e){return this.min(1,e)}};we.create=(r,e)=>new we({type:r,minLength:null,maxLength:null,exactLength:null,typeName:I.ZodArray,...j(e)});function Ct(r){if(r instanceof X){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=_e.create(Ct(n))}return new X({...r._def,shape:()=>e})}else return r instanceof we?new we({...r._def,type:Ct(r.element)}):r instanceof _e?_e.create(Ct(r.unwrap())):r instanceof je?je.create(Ct(r.unwrap())):r instanceof xe?xe.create(r.items.map(e=>Ct(e))):r}var X=class extends D{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Z.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==v.object){let c=this._getOrReturnCtx(e);return b(c,{code:w.invalid_type,expected:v.object,received:c.parsedType}),C}let{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ke&&this._def.unknownKeys==="strip"))for(let c in s.data)o.includes(c)||a.push(c);let u=[];for(let c of o){let l=i[c],f=s.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new Ee(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ke){let c=this._def.unknownKeys;if(c==="passthrough")for(let l of a)u.push({key:{status:"valid",value:l},value:{status:"valid",value:s.data[l]}});else if(c==="strict")a.length>0&&(b(s,{code:w.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let l of a){let f=s.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new Ee(s,f,s.path,l)),alwaysSet:l in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let l of u){let f=await l.key,h=await l.value;c.push({key:f,value:h,alwaysSet:l.alwaysSet})}return c}).then(c=>ne.mergeObjectSync(n,c)):ne.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return N.errToObj,new X({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var s,i,o,a;let u=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,t,n).message)!==null&&o!==void 0?o:n.defaultError;return t.code==="unrecognized_keys"?{message:(a=N.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new X({...this._def,unknownKeys:"strip"})}passthrough(){return new X({...this._def,unknownKeys:"passthrough"})}extend(e){return new X({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new X({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:I.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new X({...this._def,catchall:e})}pick(e){let t={};return Z.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new X({...this._def,shape:()=>t})}omit(e){let t={};return Z.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new X({...this._def,shape:()=>t})}deepPartial(){return Ct(this)}partial(e){let t={};return Z.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}),new X({...this._def,shape:()=>t})}required(e){let t={};return Z.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof _e;)i=i._def.innerType;t[n]=i}}),new X({...this._def,shape:()=>t})}keyof(){return ms(Z.objectKeys(this.shape))}};X.create=(r,e)=>new X({shape:()=>r,unknownKeys:"strip",catchall:ke.create(),typeName:I.ZodObject,...j(e)});X.strictCreate=(r,e)=>new X({shape:()=>r,unknownKeys:"strict",catchall:ke.create(),typeName:I.ZodObject,...j(e)});X.lazycreate=(r,e)=>new X({shape:r,unknownKeys:"strip",catchall:ke.create(),typeName:I.ZodObject,...j(e)});var ut=class extends D{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function s(i){for(let a of i)if(a.result.status==="valid")return a.result;for(let a of i)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;let o=i.map(a=>new le(a.ctx.common.issues));return b(t,{code:w.invalid_union,unionErrors:o}),C}if(t.common.async)return Promise.all(n.map(async i=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let i,o=[];for(let u of n){let c={...t,common:{...t.common,issues:[]},parent:null},l=u._parseSync({data:t.data,path:t.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;let a=o.map(u=>new le(u));return b(t,{code:w.invalid_union,unionErrors:a}),C}}get options(){return this._def.options}};ut.create=(r,e)=>new ut({options:r,typeName:I.ZodUnion,...j(e)});var Ve=r=>r instanceof dt?Ve(r.schema):r instanceof ye?Ve(r.innerType()):r instanceof ht?[r.value]:r instanceof Le?r.options:r instanceof pt?Z.objectValues(r.enum):r instanceof mt?Ve(r._def.innerType):r instanceof at?[void 0]:r instanceof ct?[null]:r instanceof _e?[void 0,...Ve(r.unwrap())]:r instanceof je?[null,...Ve(r.unwrap())]:r instanceof tr||r instanceof yt?Ve(r.unwrap()):r instanceof gt?Ve(r._def.innerType):[],Dt=class extends D{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.object)return b(t,{code:w.invalid_type,expected:v.object,received:t.parsedType}),C;let n=this.discriminator,s=t.data[n],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(b(t,{code:w.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),C)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let s=new Map;for(let i of t){let o=Ve(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Dt({typeName:I.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...j(n)})}};function mn(r,e){let t=Je(r),n=Je(e);if(r===e)return{valid:!0,data:r};if(t===v.object&&n===v.object){let s=Z.objectKeys(e),i=Z.objectKeys(r).filter(a=>s.indexOf(a)!==-1),o={...r,...e};for(let a of i){let u=mn(r[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(t===v.array&&n===v.array){if(r.length!==e.length)return{valid:!1};let s=[];for(let i=0;i<r.length;i++){let o=r[i],a=e[i],u=mn(o,a);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return t===v.date&&n===v.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var lt=class extends D{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(hn(i)||hn(o))return C;let a=mn(i.value,o.value);return a.valid?((pn(i)||pn(o))&&t.dirty(),{status:t.value,value:a.data}):(b(n,{code:w.invalid_intersection_types}),C)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};lt.create=(r,e,t)=>new lt({left:r,right:e,typeName:I.ZodIntersection,...j(t)});var xe=class extends D{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==v.array)return b(n,{code:w.invalid_type,expected:v.array,received:n.parsedType}),C;if(n.data.length<this._def.items.length)return b(n,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C;!this._def.rest&&n.data.length>this._def.items.length&&(b(n,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new Ee(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ne.mergeArray(t,o)):ne.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new xe({...this._def,rest:e})}};xe.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xe({items:r,typeName:I.ZodTuple,rest:null,...j(e)})};var ft=class extends D{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==v.object)return b(n,{code:w.invalid_type,expected:v.object,received:n.parsedType}),C;let s=[],i=this._def.keyType,o=this._def.valueType;for(let a in n.data)s.push({key:i._parse(new Ee(n,a,n.path,a)),value:o._parse(new Ee(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?ne.mergeObjectAsync(t,s):ne.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof D?new ft({keyType:e,valueType:t,typeName:I.ZodRecord,...j(n)}):new ft({keyType:ge.create(),valueType:e,typeName:I.ZodRecord,...j(t)})}},Ut=class extends D{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==v.map)return b(n,{code:w.invalid_type,expected:v.map,received:n.parsedType}),C;let s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,u],c)=>({key:s._parse(new Ee(n,a,n.path,[c,"key"])),value:i._parse(new Ee(n,u,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,l=await u.value;if(c.status==="aborted"||l.status==="aborted")return C;(c.status==="dirty"||l.status==="dirty")&&t.dirty(),a.set(c.value,l.value)}return{status:t.value,value:a}})}else{let a=new Map;for(let u of o){let c=u.key,l=u.value;if(c.status==="aborted"||l.status==="aborted")return C;(c.status==="dirty"||l.status==="dirty")&&t.dirty(),a.set(c.value,l.value)}return{status:t.value,value:a}}}};Ut.create=(r,e,t)=>new Ut({valueType:e,keyType:r,typeName:I.ZodMap,...j(t)});var Ge=class extends D{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==v.set)return b(n,{code:w.invalid_type,expected:v.set,received:n.parsedType}),C;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(b(n,{code:w.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(b(n,{code:w.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let i=this._def.valueType;function o(u){let c=new Set;for(let l of u){if(l.status==="aborted")return C;l.status==="dirty"&&t.dirty(),c.add(l.value)}return{status:t.value,value:c}}let a=[...n.data.values()].map((u,c)=>i._parse(new Ee(n,u,n.path,c)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,t){return new Ge({...this._def,minSize:{value:e,message:N.toString(t)}})}max(e,t){return new Ge({...this._def,maxSize:{value:e,message:N.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Ge.create=(r,e)=>new Ge({valueType:r,minSize:null,maxSize:null,typeName:I.ZodSet,...j(e)});var Ke=class extends D{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.function)return b(t,{code:w.invalid_type,expected:v.function,received:t.parsedType}),C;function n(a,u){return Rr({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,kr(),Pt].filter(c=>!!c),issueData:{code:w.invalid_arguments,argumentsError:u}})}function s(a,u){return Rr({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,kr(),Pt].filter(c=>!!c),issueData:{code:w.invalid_return_type,returnTypeError:u}})}let i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof et){let a=this;return fe(async function(...u){let c=new le([]),l=await a._def.args.parseAsync(u,i).catch(p=>{throw c.addIssue(n(u,p)),c}),f=await Reflect.apply(o,this,l);return await a._def.returns._def.type.parseAsync(f,i).catch(p=>{throw c.addIssue(s(f,p)),c})})}else{let a=this;return fe(function(...u){let c=a._def.args.safeParse(u,i);if(!c.success)throw new le([n(u,c.error)]);let l=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(l,i);if(!f.success)throw new le([s(l,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ke({...this._def,args:xe.create(e).rest(Fe.create())})}returns(e){return new Ke({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Ke({args:e||xe.create([]).rest(Fe.create()),returns:t||Fe.create(),typeName:I.ZodFunction,...j(n)})}},dt=class extends D{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};dt.create=(r,e)=>new dt({getter:r,typeName:I.ZodLazy,...j(e)});var ht=class extends D{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return b(t,{received:t.data,code:w.invalid_literal,expected:this._def.value}),C}return{status:"valid",value:e.data}}get value(){return this._def.value}};ht.create=(r,e)=>new ht({value:r,typeName:I.ZodLiteral,...j(e)});function ms(r,e){return new Le({values:r,typeName:I.ZodEnum,...j(e)})}var Le=class extends D{constructor(){super(...arguments),Jt.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return b(t,{expected:Z.joinValues(n),received:t.parsedType,code:w.invalid_type}),C}if(Sr(this,Jt,"f")||fs(this,Jt,new Set(this._def.values),"f"),!Sr(this,Jt,"f").has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return b(t,{received:t.data,code:w.invalid_enum_value,options:n}),C}return fe(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Le.create(e,{...this._def,...t})}exclude(e,t=this._def){return Le.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}};Jt=new WeakMap;Le.create=ms;var pt=class extends D{constructor(){super(...arguments),Kt.set(this,void 0)}_parse(e){let t=Z.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==v.string&&n.parsedType!==v.number){let s=Z.objectValues(t);return b(n,{expected:Z.joinValues(s),received:n.parsedType,code:w.invalid_type}),C}if(Sr(this,Kt,"f")||fs(this,Kt,new Set(Z.getValidEnumValues(this._def.values)),"f"),!Sr(this,Kt,"f").has(e.data)){let s=Z.objectValues(t);return b(n,{received:n.data,code:w.invalid_enum_value,options:s}),C}return fe(e.data)}get enum(){return this._def.values}};Kt=new WeakMap;pt.create=(r,e)=>new pt({values:r,typeName:I.ZodNativeEnum,...j(e)});var et=class extends D{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.promise&&t.common.async===!1)return b(t,{code:w.invalid_type,expected:v.promise,received:t.parsedType}),C;let n=t.parsedType===v.promise?t.data:Promise.resolve(t.data);return fe(n.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}};et.create=(r,e)=>new et({type:r,typeName:I.ZodPromise,...j(e)});var ye=class extends D{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===I.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{b(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return C;let u=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return u.status==="aborted"?C:u.status==="dirty"||t.value==="dirty"?$t(u.value):u});{if(t.value==="aborted")return C;let a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?C:a.status==="dirty"||t.value==="dirty"?$t(a.value):a}}if(s.type==="refinement"){let o=a=>{let u=s.refinement(a,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?C:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?C:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Qt(o))return o;let a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Qt(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:t.value,value:a})):o);Z.assertNever(s)}};ye.create=(r,e,t)=>new ye({schema:r,typeName:I.ZodEffects,effect:e,...j(t)});ye.createWithPreprocess=(r,e,t)=>new ye({schema:e,effect:{type:"preprocess",transform:r},typeName:I.ZodEffects,...j(t)});var _e=class extends D{_parse(e){return this._getType(e)===v.undefined?fe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};_e.create=(r,e)=>new _e({innerType:r,typeName:I.ZodOptional,...j(e)});var je=class extends D{_parse(e){return this._getType(e)===v.null?fe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};je.create=(r,e)=>new je({innerType:r,typeName:I.ZodNullable,...j(e)});var mt=class extends D{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===v.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};mt.create=(r,e)=>new mt({innerType:r,typeName:I.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...j(e)});var gt=class extends D{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return er(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new le(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new le(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};gt.create=(r,e)=>new gt({innerType:r,typeName:I.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...j(e)});var Mt=class extends D{_parse(e){if(this._getType(e)!==v.nan){let n=this._getOrReturnCtx(e);return b(n,{code:w.invalid_type,expected:v.nan,received:n.parsedType}),C}return{status:"valid",value:e.data}}};Mt.create=r=>new Mt({typeName:I.ZodNaN,...j(r)});var La=Symbol("zod_brand"),tr=class extends D{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},wt=class extends D{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?C:i.status==="dirty"?(t.dirty(),$t(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?C:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,t){return new wt({in:e,out:t,typeName:I.ZodPipeline})}},yt=class extends D{_parse(e){let t=this._def.innerType._parse(e),n=s=>(Qt(s)&&(s.value=Object.freeze(s.value)),s);return er(t)?t.then(s=>n(s)):n(t)}unwrap(){return this._def.innerType}};yt.create=(r,e)=>new yt({innerType:r,typeName:I.ZodReadonly,...j(e)});function gs(r,e={},t){return r?Qe.create().superRefine((n,s)=>{var i,o;if(!r(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(i=a.fatal)!==null&&i!==void 0?i:t)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:u})}}):Qe.create()}var ja={object:X.lazycreate},I;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(I||(I={}));var Da=(r,e={message:`Input not instance of ${r.name}`})=>gs(t=>t instanceof r,e),ws=ge.create,ys=$e.create,Ua=Mt.create,Ma=Pe.create,bs=ot.create,qa=Ze.create,Va=Lt.create,Fa=at.create,Za=ct.create,Ga=Qe.create,Ba=Fe.create,Wa=ke.create,za=jt.create,Xa=we.create,Ya=X.create,Ha=X.strictCreate,Ja=ut.create,Ka=Dt.create,Qa=lt.create,ec=xe.create,tc=ft.create,rc=Ut.create,nc=Ge.create,sc=Ke.create,ic=dt.create,oc=ht.create,ac=Le.create,cc=pt.create,uc=et.create,us=ye.create,lc=_e.create,fc=je.create,dc=ye.createWithPreprocess,hc=wt.create,pc=()=>ws().optional(),mc=()=>ys().optional(),gc=()=>bs().optional(),wc={string:r=>ge.create({...r,coerce:!0}),number:r=>$e.create({...r,coerce:!0}),boolean:r=>ot.create({...r,coerce:!0}),bigint:r=>Pe.create({...r,coerce:!0}),date:r=>Ze.create({...r,coerce:!0})},yc=C,y=Object.freeze({__proto__:null,defaultErrorMap:Pt,setErrorMap:ya,getErrorMap:kr,makeIssue:Rr,EMPTY_PATH:ba,addIssueToContext:b,ParseStatus:ne,INVALID:C,DIRTY:$t,OK:fe,isAborted:hn,isDirty:pn,isValid:Qt,isAsync:er,get util(){return Z},get objectUtil(){return dn},ZodParsedType:v,getParsedType:Je,ZodType:D,datetimeRegex:ps,ZodString:ge,ZodNumber:$e,ZodBigInt:Pe,ZodBoolean:ot,ZodDate:Ze,ZodSymbol:Lt,ZodUndefined:at,ZodNull:ct,ZodAny:Qe,ZodUnknown:Fe,ZodNever:ke,ZodVoid:jt,ZodArray:we,ZodObject:X,ZodUnion:ut,ZodDiscriminatedUnion:Dt,ZodIntersection:lt,ZodTuple:xe,ZodRecord:ft,ZodMap:Ut,ZodSet:Ge,ZodFunction:Ke,ZodLazy:dt,ZodLiteral:ht,ZodEnum:Le,ZodNativeEnum:pt,ZodPromise:et,ZodEffects:ye,ZodTransformer:ye,ZodOptional:_e,ZodNullable:je,ZodDefault:mt,ZodCatch:gt,ZodNaN:Mt,BRAND:La,ZodBranded:tr,ZodPipeline:wt,ZodReadonly:yt,custom:gs,Schema:D,ZodSchema:D,late:ja,get ZodFirstPartyTypeKind(){return I},coerce:wc,any:Ga,array:Xa,bigint:Ma,boolean:bs,date:qa,discriminatedUnion:Ka,effect:us,enum:ac,function:sc,instanceof:Da,intersection:Qa,lazy:ic,literal:oc,map:rc,nan:Ua,nativeEnum:cc,never:Wa,null:Za,nullable:fc,number:ys,object:Ya,oboolean:gc,onumber:mc,optional:lc,ostring:pc,pipeline:hc,preprocess:dc,promise:uc,record:tc,set:nc,strictObject:Ha,string:ws,symbol:Va,transformer:us,tuple:ec,undefined:Fa,union:Ja,unknown:Ba,void:za,NEVER:yc,ZodIssueCode:w,quotelessJson:wa,ZodError:le});var vs=0;function gn(){return(vs=(vs+1)%Number.MAX_SAFE_INTEGER).toString()}function _s(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var wn=_s();var Ar=Object.freeze({dictionary:"object",mode:"strict"}),B=Symbol("EMPTY_KEY"),bt=Symbol("OMIT_VALUE"),Es=5960464477539063e-23,yn=4294967296,rr=9007199254740992,bn=18446744073709551616n,vn=8192,Be=6,Ir=64,Cr=69,$r=70,Pr=72,Lr=77,jr=78,Dr=85,Ur=86;function xs(r,e){return typeof Object.is=="function"?Object.is(r,e):r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Os(r){function e(s){return typeof s=="string"&&["object","map"].includes(s)}function t(s){return typeof s=="string"&&["loose","strict","sequence"].includes(s)}let n={...Ar};return typeof r=="object"&&(n.dictionary=e(r.dictionary)?r.dictionary:Ar.dictionary,n.mode=t(r.mode)?r.mode:Ar.mode),Object.freeze(n)}function Ts(r,e){let t=Math.min(r.byteLength,e.byteLength);for(let n=0;n<t;n++){let s=r[n]-e[n];if(s!==0)return s}return r.byteLength-e.byteLength}var Ns=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Mr,_n,De=class{static from(e){return new De(Array.from(e))}constructor(e){Mr.add(this),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e?this._data=e:this._data=[]}add(e){return this._data.push(e)-1}remove(e){return this._data.splice(e,1)[0]}get(e){return this._data[e]}clone(){return new De(this.data)}get data(){return Array.from(this._data)}get size(){return this._data.length}[(Mr=new WeakSet,Symbol.toStringTag)](){return"Sequence"}[(_n=function(t){return`${this[Symbol.toStringTag]()}(${this.size}) ${t(this._data)}`},Symbol.for("Deno.customInspect"))](e){return Ns(this,Mr,"m",_n).call(this,e)}[Symbol.for("nodejs.util.inspect.custom")](e,t,n){return Ns(this,Mr,"m",_n).call(this,n)}};var Oe=class{static create(e){if(e===void 0)return new Oe(23);if(e===null)return new Oe(22);if(e===!0)return new Oe(21);if(e===!1)return new Oe(20);if(typeof e=="number"&&e>=0&&e<=255)return new Oe(e);throw new Error("CBORError: Value out of range or not a simple value.")}constructor(e){switch(Object.defineProperty(this,"semantic",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!0){case e===20:this.semantic="false";break;case e===21:this.semantic="true";break;case e===22:this.semantic="null";break;case e===23:this.semantic="undefined";break;case(e>23&&e<32):this.semantic="reserved";break;default:this.semantic="unassigned";break}this.value=e}toPrimitive(){switch(this.semantic){case"false":return!1;case"true":return!0;case"null":return null;case"undefined":default:return}}};var H=class{constructor(e,t){Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tag",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e,this.tag=t}};function En(r,e,t={}){let{dictionary:n,mode:s}=Os(t),i=s==="sequence"||s==="strict",o=new DataView(r),a=new Uint8Array(r),u=0,c=function(d,g){return g};typeof e=="function"&&(c=e);function l(d,g){return u+=d,g}function f(d){return l(d,new Uint8Array(r,u,d))}function h(){let d=new ArrayBuffer(4),g=new DataView(d),U=J(),x=U&32768,O=U&31744,S=U&1023;if(O===31744)O=255<<10;else if(O!==0)O+=127-15<<10;else if(S!==0)return(x?-1:1)*S*Es;return g.setUint32(0,x<<16|O<<13|S<<13),g.getFloat32(0)}function p(){return l(4,o.getFloat32(u))}function q(){return l(8,o.getFloat64(u))}function T(){return l(1,a[u])}function J(){return l(2,o.getUint16(u))}function V(){return l(4,o.getUint32(u))}function F(){return l(8,o.getBigUint64(u))}function G(){return a[u]!==255?!1:(u+=1,!0)}function K(d){if(d<24)return d;if(d===24)return T();if(d===25)return J();if(d===26)return V();if(d===27){let g=F();return g<rr?Number(g):g}if(d===31)return-1;throw new Error("CBORError: Invalid length encoding")}function qe(d){let g=T();if(g===255)return-1;let U=K(g&31);if(U<0||g>>5!==d)throw new Error("CBORError: Invalid indefinite length element");return Number(U)}function Q(d,g){for(let U=0;U<g;++U){let x=T();x&128&&(x<224?(x=(x&31)<<6|T()&63,g-=1):x<240?(x=(x&15)<<12|(T()&63)<<6|T()&63,g-=2):(x=(x&15)<<18|(T()&63)<<12|(T()&63)<<6|T()&63,g-=3)),x<65536?d.push(x):(x-=65536,d.push(55296|x>>10),d.push(56320|x&1023))}}function ie(){let d=T(),g=d>>5,U=d&31,x,O;if(g===7)switch(U){case 25:return h();case 26:return p();case 27:return q()}if(O=K(U),O<0&&(g<2||6<g))throw new Error("CBORError: Invalid length");switch(g){case 0:return c(B,O);case 1:return typeof O=="number"?c(B,-1-O):c(B,-1n-O);case 2:{if(O<0){let S=[],M=0;for(;(O=qe(g))>=0;)M+=O,S.push(f(O));let k=new Uint8Array(M),oe=0;for(x=0;x<S.length;++x)k.set(S[x],oe),oe+=S[x].length;return c(B,k)}return c(B,f(O))}case 3:{let S=[];if(O<0)for(;(O=qe(g))>=0;)Q(S,O);else Q(S,O);let M="";for(x=0;x<S.length;x+=vn)M+=String.fromCharCode.apply(null,S.slice(x,x+vn));return c(B,M)}case 4:{let S;if(O<0){S=[];let M=0;for(;!G();)S.push(c(M++,ie()))}else for(S=new Array(O),x=0;x<O;++x)S[x]=c(x,ie());return c(B,S)}case 5:{if(n==="map"){let M=new Map;for(x=0;x<O||O<0&&!G();++x){let k=ie();if(i&&M.has(k))throw new Error("CBORError: Duplicate key encountered");M.set(k,c(k,ie()))}return c(B,M)}let S={};for(x=0;x<O||O<0&&!G();++x){let M=ie();if(i&&Object.prototype.hasOwnProperty.call(S,M))throw new Error("CBORError: Duplicate key encountered");S[M]=c(M,ie())}return c(B,S)}case 6:{let S=ie(),M=O;if(S instanceof Uint8Array){let k=S.buffer.slice(S.byteOffset,S.byteLength+S.byteOffset);switch(M){case Ir:return c(B,new Uint8Array(k));case Pr:return c(B,new Int8Array(k));case Cr:return c(B,new Uint16Array(k));case Lr:return c(B,new Int16Array(k));case $r:return c(B,new Uint32Array(k));case jr:return c(B,new Int32Array(k));case Dr:return c(B,new Float32Array(k));case Ur:return c(B,new Float64Array(k))}}return c(B,new H(S,M))}case 7:switch(O){case 20:return c(B,!1);case 21:return c(B,!0);case 22:return c(B,null);case 23:return c(B,void 0);default:return c(B,new Oe(O))}}}let Ae=ie();if(u!==r.byteLength){if(s!=="sequence")throw new Error("CBORError: Remaining bytes");let d=new De([Ae]);for(;u<r.byteLength;)d.add(c(B,ie()));return d}return s==="sequence"?new De([Ae]):Ae}function xn(r,e){let t=new ArrayBuffer(256),n=new DataView(t),s=new Uint8Array(t),i,o=0,a=(d,g)=>g;if(typeof e=="function"&&(a=e),Array.isArray(e)){let d=e.slice();a=(g,U)=>g===B||d.includes(g)?U:bt}function u(d){let g=t.byteLength,U=o+d;for(;g<U;)g<<=1;if(g!==t.byteLength){let x=n;t=new ArrayBuffer(g),n=new DataView(t),s=new Uint8Array(t);let O=o+3>>2;for(let S=0;S<O;++S)n.setUint32(S<<2,x.getUint32(S<<2))}return i=d,n}function c(...d){o+=i}function l(d){c(u(8).setFloat64(o,d))}function f(d){c(u(1).setUint8(o,d))}function h(d){u(d.length),s.set(d,o),c()}function p(d){c(u(2).setUint16(o,d))}function q(d){c(u(4).setUint32(o,d))}function T(d){let g=d%yn,U=(d-g)/yn,x=u(8);x.setUint32(o,U),x.setUint32(o+4,g),c()}function J(d){c(u(8).setBigUint64(o,d))}function V(d,g){d<=255?d<24?f(Number(d)|g):(f(24|g),f(Number(d))):d<=65535?(f(25|g),p(Number(d))):d<=4294967295?(f(26|g),q(Number(d))):(f(27|g),typeof d=="number"?T(d):J(d))}function F(d,g){g<24?f(d<<5|g):g<256?(f(d<<5|24),f(g)):g<65536?(f(d<<5|25),p(g)):g<4294967296?(f(d<<5|26),q(g)):(f(d<<5|27),T(g))}function G(d){let g=o,U=d.length,x=0;F(4,U);let O=o;for(let S=0;S<U;S+=1){let M=a(S,d[S]);M!==bt&&(Q(M),x+=1)}if(U>x){let S=s.slice(O,o);o=g,F(4,x),h(S)}}function K(d){let g=[],U=o,x=o,O=0,S=0;if(d instanceof Map){O=d.size,F(5,O),x=o;for(let[k,oe]of d.entries()){let Ie=a(k,oe);if(Ie===bt)continue;let He=o;Q(k);let Wt=s.slice(He,o);He=o,Q(Ie);let ln=s.slice(He,o);S+=1,g.push([Wt,ln])}}else{let k=Object.keys(d);O=k.length,F(5,O),x=o;for(let oe=0;oe<O;oe+=1){let Ie=k[oe],He=a(Ie,d[Ie]);if(He===bt)continue;let Wt=o;Q(Ie);let ln=s.slice(Wt,o);Wt=o,Q(He);let la=s.slice(Wt,o);S+=1,g.push([ln,la])}}function M(k){o=U,F(5,S),g.sort(([oe],[Ie])=>Ts(oe,Ie));for(let oe=0;oe<k;oe+=1){let[Ie,He]=g[oe];h(Ie),h(He)}}if(O>S){let k=g.length;if(k>1)M(k);else{let oe=s.slice(x,o);o=U,F(5,S),h(oe)}}else{let k=g.length;k>1&&M(k)}}function qe(d){let g=0;if(0<=d&&d<=bn)g=0;else if(-bn<=d&&d<0)g=1,d=-(d+1n);else throw new Error("CBORError: Encountered unsafe integer outside of valid CBOR range.");if(d<0x100000000n)return F(g,Number(d));f(g<<5|27),J(d)}function Q(d){if(d!==bt){if(d===!1)return f(244);if(d===!0)return f(245);if(d===null)return f(246);if(d===void 0)return f(247);if(xs(d,-0))return h([249,128,0]);switch(typeof d){case"bigint":return qe(d);case"number":if(Math.floor(d)===d){if(0<=d&&d<=rr)return F(0,d);if(-rr<=d&&d<0)return F(1,-(d+1))}return f(251),l(d);case"string":{let g=[],U=d.length;for(let x=0;x<U;++x){let O=d.charCodeAt(x);O<128?g.push(O):O<2048?(g.push(192|O>>6),g.push(128|O&63)):O<55296||O>=57344?(g.push(224|O>>12),g.push(128|O>>6&63),g.push(128|O&63)):(O=(O&1023)<<10,O|=d.charCodeAt(++x)&1023,O+=65536,g.push(240|O>>18),g.push(128|O>>12&63),g.push(128|O>>6&63),g.push(128|O&63))}return F(3,g.length),h(g)}default:{let g;if(Array.isArray(d))G(d);else if(d instanceof Uint8Array)V(Ir,Be<<5),F(2,d.length),h(d);else if(d instanceof Int8Array)V(Pr,Be<<5),F(2,d.byteLength),h(new Uint8Array(d.buffer));else if(d instanceof Uint16Array)V(Cr,Be<<5),F(2,d.byteLength),h(new Uint8Array(d.buffer));else if(d instanceof Int16Array)V(Lr,Be<<5),F(2,d.byteLength),h(new Uint8Array(d.buffer));else if(d instanceof Uint32Array)V($r,Be<<5),F(2,d.byteLength),h(new Uint8Array(d.buffer));else if(d instanceof Int32Array)V(jr,Be<<5),F(2,d.byteLength),h(new Uint8Array(d.buffer));else if(d instanceof Float32Array)V(Dr,Be<<5),F(2,d.byteLength),h(new Uint8Array(d.buffer));else if(d instanceof Float64Array)V(Ur,Be<<5),F(2,d.byteLength),h(new Uint8Array(d.buffer));else if(ArrayBuffer.isView(d))g=new Uint8Array(d.buffer),F(2,g.length),h(g);else if(d instanceof ArrayBuffer||typeof SharedArrayBuffer=="function"&&d instanceof SharedArrayBuffer)g=new Uint8Array(d),F(2,g.length),h(g);else if(d instanceof H)V(d.tag,192),Q(d.value);else if(d instanceof Oe)F(7,d.value);else if(d instanceof De){if(o!==0)throw new Error("CBORError: A CBOR Sequence may not be nested.");let U=d.size;for(let x=0;x<U;x+=1)Q(d.get(x))}else K(d)}}}}if(Q(a(B,r)),"slice"in t)return t.slice(0,o);let ie=new ArrayBuffer(o),Ae=new DataView(ie);for(let d=0;d<o;++d)Ae.setUint8(d,n.getUint8(d));return ie}var bc=y.union([y.string(),y.number(),y.bigint(),y.record(y.unknown()),y.array(y.unknown())]),nr=class{constructor(e,t){Object.defineProperty(this,"tb",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tb=y.string().parse(e),this.id=bc.parse(t)}toJSON(){return this.toString()}toString(){let e=ks(this.tb),t=typeof this.id=="string"?ks(this.id):JSON.stringify(this.id);return`${e}:${t}`}},qr=class{constructor(e){Object.defineProperty(this,"rid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.rid=y.string().parse(e)}toJSON(){return this.rid}toString(){return this.rid}};function ks(r){let e,t,n;for(t=0,n=r.length;t<n;t++)if(e=r.charCodeAt(t),!(e>47&&e<58)&&!(e>64&&e<91)&&!(e>96&&e<123)&&e!=95)return`\u27E8${r.replaceAll("\u27E9","\u27E9")}\u27E9`;return r}var Vr="0123456789abcdef",ae=class{constructor(e){this.bytes=e}static ofInner(e){if(e.length!==16)throw new TypeError("not 128-bit length");return new ae(e)}static fromFieldsV7(e,t,n,s){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(s)||e<0||t<0||n<0||s<0||e>0xffffffffffff||t>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");let i=new Uint8Array(16);return i[0]=e/2**40,i[1]=e/2**32,i[2]=e/2**24,i[3]=e/2**16,i[4]=e/2**8,i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=s>>>24,i[13]=s>>>16,i[14]=s>>>8,i[15]=s,new ae(i)}static parse(e){var t,n,s,i;let o;switch(e.length){case 32:o=(t=/^[0-9a-f]{32}$/i.exec(e))===null||t===void 0?void 0:t[0];break;case 36:o=(n=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||n===void 0?void 0:n.slice(1,6).join("");break;case 38:o=(s=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(e))===null||s===void 0?void 0:s.slice(1,6).join("");break;case 45:o=(i=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||i===void 0?void 0:i.slice(1,6).join("");break;default:break}if(o){let a=new Uint8Array(16);for(let u=0;u<16;u+=4){let c=parseInt(o.substring(2*u,2*u+8),16);a[u+0]=c>>>24,a[u+1]=c>>>16,a[u+2]=c>>>8,a[u+3]=c}return new ae(a)}else throw new SyntaxError("could not parse UUID string")}toString(){let e="";for(let t=0;t<this.bytes.length;t++)e+=Vr.charAt(this.bytes[t]>>>4),e+=Vr.charAt(this.bytes[t]&15),(t===3||t===5||t===7||t===9)&&(e+="-");return e}toHex(){let e="";for(let t=0;t<this.bytes.length;t++)e+=Vr.charAt(this.bytes[t]>>>4),e+=Vr.charAt(this.bytes[t]&15);return e}toJSON(){return this.toString()}getVariant(){let e=this.bytes[8]>>>4;if(e<0)throw new Error("unreachable");if(e<=7)return this.bytes.every(t=>t===0)?"NIL":"VAR_0";if(e<=11)return"VAR_10";if(e<=13)return"VAR_110";if(e<=15)return this.bytes.every(t=>t===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new ae(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(let t=0;t<16;t++){let n=this.bytes[t]-e.bytes[t];if(n!==0)return Math.sign(n)}return 0}},Fr=class{constructor(e){this.timestamp=0,this.counter=0,this.random=e??vc()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(e,t){let n=this.generateOrAbortCore(e,t);return n===void 0&&(this.timestamp=0,n=this.generateOrAbortCore(e,t)),n}generateOrAbortCore(e,t){if(!Number.isInteger(e)||e<1||e>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit positive integer");if(t<0||t>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(e>this.timestamp)this.timestamp=e,this.resetCounter();else if(e+t>=this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return ae.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){let e=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return e[6]=64|e[6]>>>4,e[8]=128|e[8]>>>2,ae.ofInner(e)}},vc=()=>{if(typeof crypto<"u"&&typeof crypto.getRandomValues<"u")return new On;if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}},On=class{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}},Zr,Rs=()=>_c().toString(),_c=()=>(Zr||(Zr=new Fr)).generate(),Ss=()=>Ec().toString(),Ec=()=>(Zr||(Zr=new Fr)).generateV4();var Ps=ss($s(),1),qt=class extends Ps.Duration{toJSON(){return this.toString()}};function Ls(r){let e=r.milliseconds(),t=Math.floor(e/1e3),n=Math.floor((e-t*1e3)*1e6);return n>0?[t,n]:t>0?[t]:[]}function js([r,e]){r=r??0,e=e??0;let t=r*1e3+e/1e6;return new qt(t)}var Vt=9e15,st=1e9,Tn="0123456789abcdef",Wr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",zr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Nn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Vt,maxE:Vt,crypto:!1},qs,We,P=!0,Yr="[DecimalError] ",nt=Yr+"Invalid argument: ",Vs=Yr+"Precision limit exceeded",Fs=Yr+"crypto unavailable",Zs="[object Decimal]",ce=Math.floor,re=Math.pow,xc=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Oc=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Tc=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Gs=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Se=1e7,A=7,Nc=9007199254740991,kc=Wr.length-1,kn=zr.length-1,m={toStringTag:Zs};m.absoluteValue=m.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),R(r)};m.ceil=function(){return R(new this.constructor(this),this.e+1,2)};m.clampedTo=m.clamp=function(r,e){var t,n=this,s=n.constructor;if(r=new s(r),e=new s(e),!r.s||!e.s)return new s(NaN);if(r.gt(e))throw Error(nt+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new s(n)};m.comparedTo=m.cmp=function(r){var e,t,n,s,i=this,o=i.d,a=(r=new i.constructor(r)).d,u=i.s,c=r.s;if(!o||!a)return!u||!c?NaN:u!==c?u:o===a?0:!o^u<0?1:-1;if(!o[0]||!a[0])return o[0]?u:a[0]?-c:0;if(u!==c)return u;if(i.e!==r.e)return i.e>r.e^u<0?1:-1;for(n=o.length,s=a.length,e=0,t=n<s?n:s;e<t;++e)if(o[e]!==a[e])return o[e]>a[e]^u<0?1:-1;return n===s?0:n>s^u<0?1:-1};m.cosine=m.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+A,n.rounding=1,t=Rc(n,Ys(n,t)),n.precision=r,n.rounding=e,R(We==2||We==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};m.cubeRoot=m.cbrt=function(){var r,e,t,n,s,i,o,a,u,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(P=!1,i=l.s*re(l.s*l,1/3),!i||Math.abs(i)==1/0?(t=se(l.d),r=l.e,(i=(r-t.length+1)%3)&&(t+=i==1||i==-2?"0":"00"),i=re(t,1/3),r=ce((r+1)/3)-(r%3==(r<0?-1:2)),i==1/0?t="5e"+r:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=l.s):n=new f(i.toString()),o=(r=f.precision)+3;;)if(a=n,u=a.times(a).times(a),c=u.plus(l),n=z(c.plus(l).times(a),c.plus(u),o+2,1),se(a.d).slice(0,o)===(t=se(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!s&&t=="4999"){if(!s&&(R(a,r+1,0),a.times(a).times(a).eq(l))){n=a;break}o+=4,s=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(R(n,r+1,1),e=!n.times(n).times(n).eq(l));break}return P=!0,R(n,r,f.rounding,e)};m.decimalPlaces=m.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-ce(this.e/A))*A,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};m.dividedBy=m.div=function(r){return z(this,new this.constructor(r))};m.dividedToIntegerBy=m.divToInt=function(r){var e=this,t=e.constructor;return R(z(e,new t(r),0,1,1),t.precision,t.rounding)};m.equals=m.eq=function(r){return this.cmp(r)===0};m.floor=function(){return R(new this.constructor(this),this.e+1,3)};m.greaterThan=m.gt=function(r){return this.cmp(r)>0};m.greaterThanOrEqualTo=m.gte=function(r){var e=this.cmp(r);return e==1||e===0};m.hyperbolicCosine=m.cosh=function(){var r,e,t,n,s,i=this,o=i.constructor,a=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return a;t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,s=i.d.length,s<32?(r=Math.ceil(s/3),e=(1/Jr(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),i=Ft(o,1,i.times(e),new o(1),!0);for(var u,c=r,l=new o(8);c--;)u=i.times(i),i=a.minus(u.times(l.minus(u.times(l))));return R(i,o.precision=t,o.rounding=n,!0)};m.hyperbolicSine=m.sinh=function(){var r,e,t,n,s=this,i=s.constructor;if(!s.isFinite()||s.isZero())return new i(s);if(e=i.precision,t=i.rounding,i.precision=e+Math.max(s.e,s.sd())+4,i.rounding=1,n=s.d.length,n<3)s=Ft(i,2,s,s,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,s=s.times(1/Jr(5,r)),s=Ft(i,2,s,s,!0);for(var o,a=new i(5),u=new i(16),c=new i(20);r--;)o=s.times(s),s=s.times(a.plus(o.times(u.times(o).plus(c))))}return i.precision=e,i.rounding=t,R(s,e,t,!0)};m.hyperbolicTangent=m.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,z(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};m.inverseCosine=m.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),s=t.precision,i=t.rounding;return n!==-1?n===0?e.isNeg()?Re(t,s,i):new t(0):new t(NaN):e.isZero()?Re(t,s+4,i).times(.5):(t.precision=s+6,t.rounding=1,e=e.asin(),r=Re(t,s+4,i).times(.5),t.precision=s,t.rounding=i,r.minus(e))};m.inverseHyperbolicCosine=m.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,P=!1,t=t.times(t).minus(1).sqrt().plus(t),P=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};m.inverseHyperbolicSine=m.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,P=!1,t=t.times(t).plus(1).sqrt().plus(t),P=!0,n.precision=r,n.rounding=e,t.ln())};m.inverseHyperbolicTangent=m.atanh=function(){var r,e,t,n,s=this,i=s.constructor;return s.isFinite()?s.e>=0?new i(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(r=i.precision,e=i.rounding,n=s.sd(),Math.max(n,r)<2*-s.e-1?R(new i(s),r,e,!0):(i.precision=t=n-s.e,s=z(s.plus(1),new i(1).minus(s),t+r,1),i.precision=r+4,i.rounding=1,s=s.ln(),i.precision=r,i.rounding=e,s.times(.5))):new i(NaN)};m.inverseSine=m.asin=function(){var r,e,t,n,s=this,i=s.constructor;return s.isZero()?new i(s):(e=s.abs().cmp(1),t=i.precision,n=i.rounding,e!==-1?e===0?(r=Re(i,t+4,n).times(.5),r.s=s.s,r):new i(NaN):(i.precision=t+6,i.rounding=1,s=s.div(new i(1).minus(s.times(s)).sqrt().plus(1)).atan(),i.precision=t,i.rounding=n,s.times(2)))};m.inverseTangent=m.atan=function(){var r,e,t,n,s,i,o,a,u,c=this,l=c.constructor,f=l.precision,h=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=kn)return o=Re(l,f+4,h).times(.25),o.s=c.s,o}else{if(!c.s)return new l(NaN);if(f+4<=kn)return o=Re(l,f+4,h).times(.5),o.s=c.s,o}for(l.precision=a=f+10,l.rounding=1,t=Math.min(28,a/A+2|0),r=t;r;--r)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(P=!1,e=Math.ceil(a/A),n=1,u=c.times(c),o=new l(c),s=c;r!==-1;)if(s=s.times(u),i=o.minus(s.div(n+=2)),s=s.times(u),o=i.plus(s.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===i.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),P=!0,R(o,l.precision=f,l.rounding=h,!0)};m.isFinite=function(){return!!this.d};m.isInteger=m.isInt=function(){return!!this.d&&ce(this.e/A)>this.d.length-2};m.isNaN=function(){return!this.s};m.isNegative=m.isNeg=function(){return this.s<0};m.isPositive=m.isPos=function(){return this.s>0};m.isZero=function(){return!!this.d&&this.d[0]===0};m.lessThan=m.lt=function(r){return this.cmp(r)<0};m.lessThanOrEqualTo=m.lte=function(r){return this.cmp(r)<1};m.logarithm=m.log=function(r){var e,t,n,s,i,o,a,u,c=this,l=c.constructor,f=l.precision,h=l.rounding,p=5;if(r==null)r=new l(10),e=!0;else{if(r=new l(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new l(NaN);e=r.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new l(t&&!t[0]?-1/0:c.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)i=!0;else{for(s=t[0];s%10===0;)s/=10;i=s!==1}if(P=!1,a=f+p,o=rt(c,a),n=e?Xr(l,a+10):rt(r,a),u=z(o,n,a,1),cr(u.d,s=f,h))do if(a+=10,o=rt(c,a),n=e?Xr(l,a+10):rt(r,a),u=z(o,n,a,1),!i){+se(u.d).slice(s+1,s+15)+1==1e14&&(u=R(u,f+1,0));break}while(cr(u.d,s+=10,h));return P=!0,R(u,f,h)};m.minus=m.sub=function(r){var e,t,n,s,i,o,a,u,c,l,f,h,p=this,q=p.constructor;if(r=new q(r),!p.d||!r.d)return!p.s||!r.s?r=new q(NaN):p.d?r.s=-r.s:r=new q(r.d||p.s!==r.s?p:NaN),r;if(p.s!=r.s)return r.s=-r.s,p.plus(r);if(c=p.d,h=r.d,a=q.precision,u=q.rounding,!c[0]||!h[0]){if(h[0])r.s=-r.s;else if(c[0])r=new q(p);else return new q(u===3?-0:0);return P?R(r,a,u):r}if(t=ce(r.e/A),l=ce(p.e/A),c=c.slice(),i=l-t,i){for(f=i<0,f?(e=c,i=-i,o=h.length):(e=h,t=l,o=c.length),n=Math.max(Math.ceil(a/A),o)+2,i>n&&(i=n,e.length=1),e.reverse(),n=i;n--;)e.push(0);e.reverse()}else{for(n=c.length,o=h.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(c[n]!=h[n]){f=c[n]<h[n];break}i=0}for(f&&(e=c,c=h,h=e,r.s=-r.s),o=c.length,n=h.length-o;n>0;--n)c[o++]=0;for(n=h.length;n>i;){if(c[--n]<h[n]){for(s=n;s&&c[--s]===0;)c[s]=Se-1;--c[s],c[n]+=Se}c[n]-=h[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--t;return c[0]?(r.d=c,r.e=Hr(c,t),P?R(r,a,u):r):new q(u===3?-0:0)};m.modulo=m.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?R(new n(t),n.precision,n.rounding):(P=!1,n.modulo==9?(e=z(t,r.abs(),0,3,1),e.s*=r.s):e=z(t,r,0,n.modulo,1),e=e.times(r),P=!0,t.minus(e))};m.naturalExponential=m.exp=function(){return Rn(this)};m.naturalLogarithm=m.ln=function(){return rt(this)};m.negated=m.neg=function(){var r=new this.constructor(this);return r.s=-r.s,R(r)};m.plus=m.add=function(r){var e,t,n,s,i,o,a,u,c,l,f=this,h=f.constructor;if(r=new h(r),!f.d||!r.d)return!f.s||!r.s?r=new h(NaN):f.d||(r=new h(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(c=f.d,l=r.d,a=h.precision,u=h.rounding,!c[0]||!l[0])return l[0]||(r=new h(f)),P?R(r,a,u):r;if(i=ce(f.e/A),n=ce(r.e/A),c=c.slice(),s=i-n,s){for(s<0?(t=c,s=-s,o=l.length):(t=l,n=i,o=c.length),i=Math.ceil(a/A),o=i>o?i+1:o+1,s>o&&(s=o,t.length=1),t.reverse();s--;)t.push(0);t.reverse()}for(o=c.length,s=l.length,o-s<0&&(s=o,t=l,l=c,c=t),e=0;s;)e=(c[--s]=c[s]+l[s]+e)/Se|0,c[s]%=Se;for(e&&(c.unshift(e),++n),o=c.length;c[--o]==0;)c.pop();return r.d=c,r.e=Hr(c,n),P?R(r,a,u):r};m.precision=m.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(nt+r);return t.d?(e=Bs(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};m.round=function(){var r=this,e=r.constructor;return R(new e(r),r.e+1,e.rounding)};m.sine=m.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+A,n.rounding=1,t=Ac(n,Ys(n,t)),n.precision=r,n.rounding=e,R(We>2?t.neg():t,r,e,!0)):new n(NaN)};m.squareRoot=m.sqrt=function(){var r,e,t,n,s,i,o=this,a=o.d,u=o.e,c=o.s,l=o.constructor;if(c!==1||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(P=!1,c=Math.sqrt(+o),c==0||c==1/0?(e=se(a),(e.length+u)%2==0&&(e+="0"),c=Math.sqrt(e),u=ce((u+1)/2)-(u<0||u%2),c==1/0?e="5e"+u:(e=c.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new l(e)):n=new l(c.toString()),t=(u=l.precision)+3;;)if(i=n,n=i.plus(z(o,i,t+2,1)).times(.5),se(i.d).slice(0,t)===(e=se(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!s&&e=="4999"){if(!s&&(R(i,u+1,0),i.times(i).eq(o))){n=i;break}t+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(R(n,u+1,1),r=!n.times(n).eq(o));break}return P=!0,R(n,u,l.rounding,r)};m.tangent=m.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=z(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,R(We==2||We==4?t.neg():t,r,e,!0)):new n(NaN)};m.times=m.mul=function(r){var e,t,n,s,i,o,a,u,c,l=this,f=l.constructor,h=l.d,p=(r=new f(r)).d;if(r.s*=l.s,!h||!h[0]||!p||!p[0])return new f(!r.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:!h||!p?r.s/0:r.s*0);for(t=ce(l.e/A)+ce(r.e/A),u=h.length,c=p.length,u<c&&(i=h,h=p,p=i,o=u,u=c,c=o),i=[],o=u+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(e=0,s=u+n;s>n;)a=i[s]+p[n]*h[s-n-1]+e,i[s--]=a%Se|0,e=a/Se|0;i[s]=(i[s]+e)%Se|0}for(;!i[--o];)i.pop();return e?++t:i.shift(),r.d=i,r.e=Hr(i,t),P?R(r,f.precision,f.rounding):r};m.toBinary=function(r,e){return An(this,2,r,e)};m.toDecimalPlaces=m.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(pe(r,0,st),e===void 0?e=n.rounding:pe(e,0,8),R(t,r+t.e+1,e))};m.toExponential=function(r,e){var t,n=this,s=n.constructor;return r===void 0?t=Ue(n,!0):(pe(r,0,st),e===void 0?e=s.rounding:pe(e,0,8),n=R(new s(n),r+1,e),t=Ue(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};m.toFixed=function(r,e){var t,n,s=this,i=s.constructor;return r===void 0?t=Ue(s):(pe(r,0,st),e===void 0?e=i.rounding:pe(e,0,8),n=R(new i(s),r+s.e+1,e),t=Ue(n,!1,r+n.e+1)),s.isNeg()&&!s.isZero()?"-"+t:t};m.toFraction=function(r){var e,t,n,s,i,o,a,u,c,l,f,h,p=this,q=p.d,T=p.constructor;if(!q)return new T(p);if(c=t=new T(1),n=u=new T(0),e=new T(n),i=e.e=Bs(q)-p.e-1,o=i%A,e.d[0]=re(10,o<0?A+o:o),r==null)r=i>0?e:c;else{if(a=new T(r),!a.isInt()||a.lt(c))throw Error(nt+a);r=a.gt(e)?i>0?e:c:a}for(P=!1,a=new T(se(q)),l=T.precision,T.precision=i=q.length*A*2;f=z(a,e,0,1,1),s=t.plus(f.times(n)),s.cmp(r)!=1;)t=n,n=s,s=c,c=u.plus(f.times(s)),u=s,s=e,e=a.minus(f.times(s)),a=s;return s=z(r.minus(t),n,0,1,1),u=u.plus(s.times(c)),t=t.plus(s.times(n)),u.s=c.s=p.s,h=z(c,n,i,1).minus(p).abs().cmp(z(u,t,i,1).minus(p).abs())<1?[c,n]:[u,t],T.precision=l,P=!0,h};m.toHexadecimal=m.toHex=function(r,e){return An(this,16,r,e)};m.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:pe(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(P=!1,t=z(t,r,0,e,1).times(r),P=!0,R(t)):(r.s=t.s,t=r),t};m.toNumber=function(){return+this};m.toOctal=function(r,e){return An(this,8,r,e)};m.toPower=m.pow=function(r){var e,t,n,s,i,o,a=this,u=a.constructor,c=+(r=new u(r));if(!a.d||!r.d||!a.d[0]||!r.d[0])return new u(re(+a,c));if(a=new u(a),a.eq(1))return a;if(n=u.precision,i=u.rounding,r.eq(1))return R(a,n,i);if(e=ce(r.e/A),e>=r.d.length-1&&(t=c<0?-c:c)<=Nc)return s=Ws(u,a,t,n),r.s<0?new u(1).div(s):R(s,n,i);if(o=a.s,o<0){if(e<r.d.length-1)return new u(NaN);if((r.d[e]&1)==0&&(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return t=re(+a,c),e=t==0||!isFinite(t)?ce(c*(Math.log("0."+se(a.d))/Math.LN10+a.e+1)):new u(t+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(P=!1,u.rounding=a.s=1,t=Math.min(12,(e+"").length),s=Rn(r.times(rt(a,n+t)),n),s.d&&(s=R(s,n+5,1),cr(s.d,n,i)&&(e=n+10,s=R(Rn(r.times(rt(a,e+t)),e),e+5,1),+se(s.d).slice(n+1,n+15)+1==1e14&&(s=R(s,n+1,0)))),s.s=o,P=!0,u.rounding=i,R(s,n,i))};m.toPrecision=function(r,e){var t,n=this,s=n.constructor;return r===void 0?t=Ue(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(pe(r,1,st),e===void 0?e=s.rounding:pe(e,0,8),n=R(new s(n),r,e),t=Ue(n,r<=n.e||n.e<=s.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};m.toSignificantDigits=m.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(pe(r,1,st),e===void 0?e=n.rounding:pe(e,0,8)),R(new n(t),r,e)};m.toString=function(){var r=this,e=r.constructor,t=Ue(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};m.truncated=m.trunc=function(){return R(new this.constructor(this),this.e+1,1)};m.valueOf=m.toJSON=function(){var r=this,e=r.constructor,t=Ue(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function se(r){var e,t,n,s=r.length-1,i="",o=r[0];if(s>0){for(i+=o,e=1;e<s;e++)n=r[e]+"",t=A-n.length,t&&(i+=tt(t)),i+=n;o=r[e],n=o+"",t=A-n.length,t&&(i+=tt(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function pe(r,e,t){if(r!==~~r||r<e||r>t)throw Error(nt+r)}function cr(r,e,t,n){var s,i,o,a;for(i=r[0];i>=10;i/=10)--e;return--e<0?(e+=A,s=0):(s=Math.ceil((e+1)/A),e%=A),i=re(10,A-e),a=r[s]%i|0,n==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),o=t<4&&a==99999||t>3&&a==49999||a==5e4||a==0):o=(t<4&&a+1==i||t>3&&a+1==i/2)&&(r[s+1]/i/100|0)==re(10,e-2)-1||(a==i/2||a==0)&&(r[s+1]/i/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),o=(n||t<4)&&a==9999||!n&&t>3&&a==4999):o=((n||t<4)&&a+1==i||!n&&t>3&&a+1==i/2)&&(r[s+1]/i/1e3|0)==re(10,e-3)-1,o}function Br(r,e,t){for(var n,s=[0],i,o=0,a=r.length;o<a;){for(i=s.length;i--;)s[i]*=e;for(s[0]+=Tn.indexOf(r.charAt(o++)),n=0;n<s.length;n++)s[n]>t-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/t|0,s[n]%=t)}return s.reverse()}function Rc(r,e){var t,n,s;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),s=(1/Jr(4,t)).toString()):(t=16,s="2.3283064365386962890625e-10"),r.precision+=t,e=Ft(r,1,e.times(s),new r(1));for(var i=t;i--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var z=function(){function r(n,s,i){var o,a=0,u=n.length;for(n=n.slice();u--;)o=n[u]*s+a,n[u]=o%i|0,a=o/i|0;return a&&n.unshift(a),n}function e(n,s,i,o){var a,u;if(i!=o)u=i>o?1:-1;else for(a=u=0;a<i;a++)if(n[a]!=s[a]){u=n[a]>s[a]?1:-1;break}return u}function t(n,s,i,o){for(var a=0;i--;)n[i]-=a,a=n[i]<s[i]?1:0,n[i]=a*o+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o,a,u){var c,l,f,h,p,q,T,J,V,F,G,K,qe,Q,ie,Ae,d,g,U,x,O=n.constructor,S=n.s==s.s?1:-1,M=n.d,k=s.d;if(!M||!M[0]||!k||!k[0])return new O(!n.s||!s.s||(M?k&&M[0]==k[0]:!k)?NaN:M&&M[0]==0||!k?S*0:S/0);for(u?(p=1,l=n.e-s.e):(u=Se,p=A,l=ce(n.e/p)-ce(s.e/p)),U=k.length,d=M.length,V=new O(S),F=V.d=[],f=0;k[f]==(M[f]||0);f++);if(k[f]>(M[f]||0)&&l--,i==null?(Q=i=O.precision,o=O.rounding):a?Q=i+(n.e-s.e)+1:Q=i,Q<0)F.push(1),q=!0;else{if(Q=Q/p+2|0,f=0,U==1){for(h=0,k=k[0],Q++;(f<d||h)&&Q--;f++)ie=h*u+(M[f]||0),F[f]=ie/k|0,h=ie%k|0;q=h||f<d}else{for(h=u/(k[0]+1)|0,h>1&&(k=r(k,h,u),M=r(M,h,u),U=k.length,d=M.length),Ae=U,G=M.slice(0,U),K=G.length;K<U;)G[K++]=0;x=k.slice(),x.unshift(0),g=k[0],k[1]>=u/2&&++g;do h=0,c=e(k,G,U,K),c<0?(qe=G[0],U!=K&&(qe=qe*u+(G[1]||0)),h=qe/g|0,h>1?(h>=u&&(h=u-1),T=r(k,h,u),J=T.length,K=G.length,c=e(T,G,J,K),c==1&&(h--,t(T,U<J?x:k,J,u))):(h==0&&(c=h=1),T=k.slice()),J=T.length,J<K&&T.unshift(0),t(G,T,K,u),c==-1&&(K=G.length,c=e(k,G,U,K),c<1&&(h++,t(G,U<K?x:k,K,u))),K=G.length):c===0&&(h++,G=[0]),F[f++]=h,c&&G[0]?G[K++]=M[Ae]||0:(G=[M[Ae]],K=1);while((Ae++<d||G[0]!==void 0)&&Q--);q=G[0]!==void 0}F[0]||F.shift()}if(p==1)V.e=l,qs=q;else{for(f=1,h=F[0];h>=10;h/=10)f++;V.e=f+l*p-1,R(V,a?i+V.e+1:i,o,q)}return V}}();function R(r,e,t,n){var s,i,o,a,u,c,l,f,h,p=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(s=1,a=f[0];a>=10;a/=10)s++;if(i=e-s,i<0)i+=A,o=e,l=f[h=0],u=l/re(10,s-o-1)%10|0;else if(h=Math.ceil((i+1)/A),a=f.length,h>=a)if(n){for(;a++<=h;)f.push(0);l=u=0,s=1,i%=A,o=i-A+1}else break e;else{for(l=a=f[h],s=1;a>=10;a/=10)s++;i%=A,o=i-A+s,u=o<0?0:l/re(10,s-o-1)%10|0}if(n=n||e<0||f[h+1]!==void 0||(o<0?l:l%re(10,s-o-1)),c=t<4?(u||n)&&(t==0||t==(r.s<0?3:2)):u>5||u==5&&(t==4||n||t==6&&(i>0?o>0?l/re(10,s-o):0:f[h-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,c?(e-=r.e+1,f[0]=re(10,(A-e%A)%A),r.e=-e||0):f[0]=r.e=0,r;if(i==0?(f.length=h,a=1,h--):(f.length=h+1,a=re(10,A-i),f[h]=o>0?(l/re(10,s-o)%re(10,o)|0)*a:0),c)for(;;)if(h==0){for(i=1,o=f[0];o>=10;o/=10)i++;for(o=f[0]+=a,a=1;o>=10;o/=10)a++;i!=a&&(r.e++,f[0]==Se&&(f[0]=1));break}else{if(f[h]+=a,f[h]!=Se)break;f[h--]=0,a=1}for(i=f.length;f[--i]===0;)f.pop()}return P&&(r.e>p.maxE?(r.d=null,r.e=NaN):r.e<p.minE&&(r.e=0,r.d=[0])),r}function Ue(r,e,t){if(!r.isFinite())return Xs(r);var n,s=r.e,i=se(r.d),o=i.length;return e?(t&&(n=t-o)>0?i=i.charAt(0)+"."+i.slice(1)+tt(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(r.e<0?"e":"e+")+r.e):s<0?(i="0."+tt(-s-1)+i,t&&(n=t-o)>0&&(i+=tt(n))):s>=o?(i+=tt(s+1-o),t&&(n=t-s-1)>0&&(i=i+"."+tt(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),t&&(n=t-o)>0&&(s+1===o&&(i+="."),i+=tt(n))),i}function Hr(r,e){var t=r[0];for(e*=A;t>=10;t/=10)e++;return e}function Xr(r,e,t){if(e>kc)throw P=!0,t&&(r.precision=t),Error(Vs);return R(new r(Wr),e,1,!0)}function Re(r,e,t){if(e>kn)throw Error(Vs);return R(new r(zr),e,t,!0)}function Bs(r){var e=r.length-1,t=e*A+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function tt(r){for(var e="";r--;)e+="0";return e}function Ws(r,e,t,n){var s,i=new r(1),o=Math.ceil(n/A+4);for(P=!1;;){if(t%2&&(i=i.times(e),Us(i.d,o)&&(s=!0)),t=ce(t/2),t===0){t=i.d.length-1,s&&i.d[t]===0&&++i.d[t];break}e=e.times(e),Us(e.d,o)}return P=!0,i}function Ds(r){return r.d[r.d.length-1]&1}function zs(r,e,t){for(var n,s=new r(e[0]),i=0;++i<e.length;)if(n=new r(e[i]),n.s)s[t](n)&&(s=n);else{s=n;break}return s}function Rn(r,e){var t,n,s,i,o,a,u,c=0,l=0,f=0,h=r.constructor,p=h.rounding,q=h.precision;if(!r.d||!r.d[0]||r.e>17)return new h(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(P=!1,u=q):u=e,a=new h(.03125);r.e>-2;)r=r.times(a),f+=5;for(n=Math.log(re(2,f))/Math.LN10*2+5|0,u+=n,t=i=o=new h(1),h.precision=u;;){if(i=R(i.times(r),u,1),t=t.times(++l),a=o.plus(z(i,t,u,1)),se(a.d).slice(0,u)===se(o.d).slice(0,u)){for(s=f;s--;)o=R(o.times(o),u,1);if(e==null)if(c<3&&cr(o.d,u-n,p,c))h.precision=u+=10,t=i=a=new h(1),l=0,c++;else return R(o,h.precision=q,p,P=!0);else return h.precision=q,o}o=a}}function rt(r,e){var t,n,s,i,o,a,u,c,l,f,h,p=1,q=10,T=r,J=T.d,V=T.constructor,F=V.rounding,G=V.precision;if(T.s<0||!J||!J[0]||!T.e&&J[0]==1&&J.length==1)return new V(J&&!J[0]?-1/0:T.s!=1?NaN:J?0:T);if(e==null?(P=!1,l=G):l=e,V.precision=l+=q,t=se(J),n=t.charAt(0),Math.abs(i=T.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)T=T.times(r),t=se(T.d),n=t.charAt(0),p++;i=T.e,n>1?(T=new V("0."+t),i++):T=new V(n+"."+t.slice(1))}else return c=Xr(V,l+2,G).times(i+""),T=rt(new V(n+"."+t.slice(1)),l-q).plus(c),V.precision=G,e==null?R(T,G,F,P=!0):T;for(f=T,u=o=T=z(T.minus(1),T.plus(1),l,1),h=R(T.times(T),l,1),s=3;;){if(o=R(o.times(h),l,1),c=u.plus(z(o,new V(s),l,1)),se(c.d).slice(0,l)===se(u.d).slice(0,l))if(u=u.times(2),i!==0&&(u=u.plus(Xr(V,l+2,G).times(i+""))),u=z(u,new V(p),l,1),e==null)if(cr(u.d,l-q,F,a))V.precision=l+=q,c=o=T=z(f.minus(1),f.plus(1),l,1),h=R(T.times(T),l,1),s=a=1;else return R(u,V.precision=G,F,P=!0);else return V.precision=G,u;u=c,s+=2}}function Xs(r){return String(r.s*r.s/0)}function Sn(r,e){var t,n,s;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(n,s),e){if(s-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%A,t<0&&(n+=A),n<s){for(n&&r.d.push(+e.slice(0,n)),s-=A;n<s;)r.d.push(+e.slice(n,n+=A));e=e.slice(n),n=A-e.length}else n-=s;for(;n--;)e+="0";r.d.push(+e),P&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Sc(r,e){var t,n,s,i,o,a,u,c,l;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Gs.test(e))return Sn(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(Oc.test(e))t=16,e=e.toLowerCase();else if(xc.test(e))t=2;else if(Tc.test(e))t=8;else throw Error(nt+e);for(i=e.search(/p/i),i>0?(u=+e.slice(i+1),e=e.substring(2,i)):e=e.slice(2),i=e.indexOf("."),o=i>=0,n=r.constructor,o&&(e=e.replace(".",""),a=e.length,i=a-i,s=Ws(n,new n(t),i,i*2)),c=Br(e,t,Se),l=c.length-1,i=l;c[i]===0;--i)c.pop();return i<0?new n(r.s*0):(r.e=Hr(c,l),r.d=c,P=!1,o&&(r=z(r,s,a*4)),u&&(r=r.times(Math.abs(u)<54?re(2,u):be.pow(2,u))),P=!0,r)}function Ac(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:Ft(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/Jr(5,t)),e=Ft(r,2,e,e);for(var s,i=new r(5),o=new r(16),a=new r(20);t--;)s=e.times(e),e=e.times(i.plus(s.times(o.times(s).minus(a))));return e}function Ft(r,e,t,n,s){var i,o,a,u,c=1,l=r.precision,f=Math.ceil(l/A);for(P=!1,u=t.times(t),a=new r(n);;){if(o=z(a.times(u),new r(e++*e++),l,1),a=s?n.plus(o):n.minus(o),n=z(o.times(u),new r(e++*e++),l,1),o=a.plus(n),o.d[f]!==void 0){for(i=f;o.d[i]===a.d[i]&&i--;);if(i==-1)break}i=a,a=n,n=o,o=i,c++}return P=!0,o.d.length=f+1,o}function Jr(r,e){for(var t=r;--e;)t*=r;return t}function Ys(r,e){var t,n=e.s<0,s=Re(r,r.precision,1),i=s.times(.5);if(e=e.abs(),e.lte(i))return We=n?4:1,e;if(t=e.divToInt(s),t.isZero())We=n?3:2;else{if(e=e.minus(t.times(s)),e.lte(i))return We=Ds(t)?n?2:3:n?4:1,e;We=Ds(t)?n?1:4:n?3:2}return e.minus(s).abs()}function An(r,e,t,n){var s,i,o,a,u,c,l,f,h,p=r.constructor,q=t!==void 0;if(q?(pe(t,1,st),n===void 0?n=p.rounding:pe(n,0,8)):(t=p.precision,n=p.rounding),!r.isFinite())l=Xs(r);else{for(l=Ue(r),o=l.indexOf("."),q?(s=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):s=e,o>=0&&(l=l.replace(".",""),h=new p(1),h.e=l.length-o,h.d=Br(Ue(h),10,s),h.e=h.d.length),f=Br(l,10,s),i=u=f.length;f[--u]==0;)f.pop();if(!f[0])l=q?"0p+0":"0";else{if(o<0?i--:(r=new p(r),r.d=f,r.e=i,r=z(r,h,t,n,0,s),f=r.d,i=r.e,c=qs),o=f[t],a=s/2,c=c||f[t+1]!==void 0,c=n<4?(o!==void 0||c)&&(n===0||n===(r.s<0?3:2)):o>a||o===a&&(n===4||c||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,c)for(;++f[--t]>s-1;)f[t]=0,t||(++i,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,l="";o<u;o++)l+=Tn.charAt(f[o]);if(q){if(u>1)if(e==16||e==8){for(o=e==16?4:3,--u;u%o;u++)l+="0";for(f=Br(l,s,e),u=f.length;!f[u-1];--u);for(o=1,l="1.";o<u;o++)l+=Tn.charAt(f[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)l="0"+l;l="0."+l}else if(++i>u)for(i-=u;i--;)l+="0";else i<u&&(l=l.slice(0,i)+"."+l.slice(i))}l=(e==16?"0x":e==2?"0b":e==8?"0o":"")+l}return r.s<0?"-"+l:l}function Us(r,e){if(r.length>e)return r.length=e,!0}function Ic(r){return new this(r).abs()}function Cc(r){return new this(r).acos()}function $c(r){return new this(r).acosh()}function Pc(r,e){return new this(r).plus(e)}function Lc(r){return new this(r).asin()}function jc(r){return new this(r).asinh()}function Dc(r){return new this(r).atan()}function Uc(r){return new this(r).atanh()}function Mc(r,e){r=new this(r),e=new this(e);var t,n=this.precision,s=this.rounding,i=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=Re(this,i,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?Re(this,n,s):new this(0),t.s=r.s):!r.d||e.isZero()?(t=Re(this,i,1).times(.5),t.s=r.s):e.s<0?(this.precision=i,this.rounding=1,t=this.atan(z(r,e,i,1)),e=Re(this,i,1),this.precision=n,this.rounding=s,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(z(r,e,i,1)),t}function qc(r){return new this(r).cbrt()}function Vc(r){return R(r=new this(r),r.e+1,2)}function Fc(r,e,t){return new this(r).clamp(e,t)}function Zc(r){if(!r||typeof r!="object")throw Error(Yr+"Object expected");var e,t,n,s=r.defaults===!0,i=["precision",1,st,"rounding",0,8,"toExpNeg",-Vt,0,"toExpPos",0,Vt,"maxE",0,Vt,"minE",-Vt,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(t=i[e],s&&(this[t]=Nn[t]),(n=r[t])!==void 0)if(ce(n)===n&&n>=i[e+1]&&n<=i[e+2])this[t]=n;else throw Error(nt+t+": "+n);if(t="crypto",s&&(this[t]=Nn[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Fs);else this[t]=!1;else throw Error(nt+t+": "+n);return this}function Gc(r){return new this(r).cos()}function Bc(r){return new this(r).cosh()}function Hs(r){var e,t,n;function s(i){var o,a,u,c=this;if(!(c instanceof s))return new s(i);if(c.constructor=s,Ms(i)){c.s=i.s,P?!i.d||i.e>s.maxE?(c.e=NaN,c.d=null):i.e<s.minE?(c.e=0,c.d=[0]):(c.e=i.e,c.d=i.d.slice()):(c.e=i.e,c.d=i.d?i.d.slice():i.d);return}if(u=typeof i,u==="number"){if(i===0){c.s=1/i<0?-1:1,c.e=0,c.d=[0];return}if(i<0?(i=-i,c.s=-1):c.s=1,i===~~i&&i<1e7){for(o=0,a=i;a>=10;a/=10)o++;P?o>s.maxE?(c.e=NaN,c.d=null):o<s.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[i]):(c.e=o,c.d=[i]);return}else if(i*0!==0){i||(c.s=NaN),c.e=NaN,c.d=null;return}return Sn(c,i.toString())}else if(u!=="string")throw Error(nt+i);return(a=i.charCodeAt(0))===45?(i=i.slice(1),c.s=-1):(a===43&&(i=i.slice(1)),c.s=1),Gs.test(i)?Sn(c,i):Sc(c,i)}if(s.prototype=m,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Zc,s.clone=Hs,s.isDecimal=Ms,s.abs=Ic,s.acos=Cc,s.acosh=$c,s.add=Pc,s.asin=Lc,s.asinh=jc,s.atan=Dc,s.atanh=Uc,s.atan2=Mc,s.cbrt=qc,s.ceil=Vc,s.clamp=Fc,s.cos=Gc,s.cosh=Bc,s.div=Wc,s.exp=zc,s.floor=Xc,s.hypot=Yc,s.ln=Hc,s.log=Jc,s.log10=Qc,s.log2=Kc,s.max=eu,s.min=tu,s.mod=ru,s.mul=nu,s.pow=su,s.random=iu,s.round=ou,s.sign=au,s.sin=cu,s.sinh=uu,s.sqrt=lu,s.sub=fu,s.sum=du,s.tan=hu,s.tanh=pu,s.trunc=mu,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return s.config(r),s}function Wc(r,e){return new this(r).div(e)}function zc(r){return new this(r).exp()}function Xc(r){return R(r=new this(r),r.e+1,3)}function Yc(){var r,e,t=new this(0);for(P=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return P=!0,new this(1/0);t=e}return P=!0,t.sqrt()}function Ms(r){return r instanceof be||r&&r.toStringTag===Zs||!1}function Hc(r){return new this(r).ln()}function Jc(r,e){return new this(r).log(e)}function Kc(r){return new this(r).log(2)}function Qc(r){return new this(r).log(10)}function eu(){return zs(this,arguments,"lt")}function tu(){return zs(this,arguments,"gt")}function ru(r,e){return new this(r).mod(e)}function nu(r,e){return new this(r).mul(e)}function su(r,e){return new this(r).pow(e)}function iu(r){var e,t,n,s,i=0,o=new this(1),a=[];if(r===void 0?r=this.precision:pe(r,1,st),n=Math.ceil(r/A),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));i<n;)s=e[i],s>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);i<n;)s=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((e[i+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,i):(a.push(s%1e7),i+=4);i=n/4}else throw Error(Fs);else for(;i<n;)a[i++]=Math.random()*1e7|0;for(n=a[--i],r%=A,n&&r&&(s=re(10,A-r),a[i]=(n/s|0)*s);a[i]===0;i--)a.pop();if(i<0)t=0,a=[0];else{for(t=-1;a[0]===0;t-=A)a.shift();for(n=1,s=a[0];s>=10;s/=10)n++;n<A&&(t-=A-n)}return o.e=t,o.d=a,o}function ou(r){return R(r=new this(r),r.e+1,this.rounding)}function au(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function cu(r){return new this(r).sin()}function uu(r){return new this(r).sinh()}function lu(r){return new this(r).sqrt()}function fu(r,e){return new this(r).sub(e)}function du(){var r=0,e=arguments,t=new this(e[r]);for(P=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return P=!0,R(t,this.precision,this.rounding)}function hu(r){return new this(r).tan()}function pu(r){return new this(r).tanh()}function mu(r){return R(r=new this(r),r.e+1,1)}m[Symbol.for("nodejs.util.inspect.custom")]=m.toString;m[Symbol.toStringTag]="Decimal";var be=m.constructor=Hs(Nn);Wr=new be(Wr);zr=new be(zr);var ze=class{},Me=class extends ze{constructor(e){super(),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e=e instanceof Me?e.point:e,this.point=[e[0]instanceof be?e[0]:new be(e[0]),e[1]instanceof be?e[1]:new be(e[1])]}toJSON(){return{type:"Point",coordinates:this.coordinates}}get coordinates(){return this.point}},Xe=class extends ze{constructor(e){super(),Object.defineProperty(this,"line",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e=e instanceof Xe?e.line:e,this.line=[new Me(e[0]),new Me(e[1])]}toJSON(){return{type:"LineString",coordinates:this.coordinates}}get coordinates(){return this.line.map(e=>e.coordinates)}},it=class extends ze{constructor(e){super(),Object.defineProperty(this,"polygon",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e=e instanceof it?e.polygon:e,this.polygon=e.map(t=>new Xe(t))}toJSON(){return{type:"Polygon",coordinates:this.coordinates}}get coordinates(){return this.polygon.map(e=>e.coordinates)}},xt=class extends ze{constructor(e){super(),Object.defineProperty(this,"points",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e=e instanceof xt?e.points:e,this.points=e.map(t=>new Me(t))}toJSON(){return{type:"MultiPoint",coordinates:this.coordinates}}get coordinates(){return this.points.map(e=>e.coordinates)}},Ot=class extends ze{constructor(e){super(),Object.defineProperty(this,"lines",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e=e instanceof Ot?e.lines:e,this.lines=e.map(t=>new Xe(t))}toJSON(){return{type:"MultiLineString",coordinates:this.coordinates}}get coordinates(){return this.lines.map(e=>e.coordinates)}},Tt=class extends ze{constructor(e){super(),Object.defineProperty(this,"polygons",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e=e instanceof Tt?e.polygons:e,this.polygons=e.map(t=>new it(t))}toJSON(){return{type:"MultiPolygon",coordinates:this.coordinates}}get coordinates(){return this.polygons.map(e=>e.coordinates)}},Nt=class extends ze{constructor(e){super(),Object.defineProperty(this,"collection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e=e instanceof Nt?e.collection:e,this.collection=e}toJSON(){return{type:"GeometryCollection",geometries:this.geometries}}get geometries(){return this.collection}};var ur=class{constructor(e){Object.defineProperty(this,"tb",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tb=y.string().parse(e)}toJSON(){return this.tb}toString(){return this.tb}};function Js(r){let e=Math.floor(r.getTime()/1e3),t=r.getTime()-e*1e3;return[e,t*1e6]}function Ks([r,e]){let t=new Date(0);return t.setUTCSeconds(Number(r)),t.setMilliseconds(Math.floor(Number(e)/1e6)),t}var gu=0,Qs=37,ei=6,ti=7,In=8,wu=9,ri=10,ni=12,yu=13,si=14,ii=88,oi=89,ai=90,ci=91,ui=92,li=93,fi=94;function Cn(r){return xn(r,(e,t)=>t instanceof Date?new H(Js(t),ni):t===void 0?new H(null,ei):t instanceof ae?new H(t.bytes.buffer,Qs):t instanceof be?new H(t.toString(),ri):t instanceof qt?new H(Ls(t),si):t instanceof nr?new H([t.tb,t.id],In):t instanceof qr?new H(t.rid,In):t instanceof ur?new H(t.tb,ti):t instanceof Me?new H(t.point,ii):t instanceof Xe?new H(t.line,oi):t instanceof it?new H(t.polygon,ai):t instanceof xt?new H(t.points,ci):t instanceof Ot?new H(t.lines,ui):t instanceof Tt?new H(t.polygons,li):t instanceof Nt?new H(t.collection,fi):t)}function $n(r){return En(r,(e,t)=>{if(!(t instanceof H))return t;switch(t.tag){case gu:return new Date(t.value);case Qs:return ae.ofInner(new Uint8Array(t.value));case ni:return Ks(t.value);case ei:return;case wu:return ae.parse(t.value);case ri:return new be(t.value);case yu:return new qt(t.value);case si:return js(t.value);case ti:return new ur(t.value);case In:return new nr(t.value[0],t.value[1]);case ii:return new Me(t.value);case oi:return new Xe(t.value);case ai:return new it(t.value);case ci:return new xt(t.value);case ui:return new Ot(t.value);case li:return new Tt(t.value);case fi:return new Nt(t.value)}})}var bu=y.object({namespace:y.coerce.string(),database:y.coerce.string()}),vu=y.object({namespace:y.never().optional(),database:y.never().optional(),scope:y.never().optional(),username:y.coerce.string(),password:y.coerce.string()}),_u=y.object({namespace:y.coerce.string(),database:y.never().optional(),scope:y.never().optional(),username:y.coerce.string(),password:y.coerce.string()}),Eu=y.object({namespace:y.coerce.string(),database:y.coerce.string(),scope:y.never().optional(),username:y.coerce.string(),password:y.coerce.string()}),Pn=y.object({namespace:y.coerce.string().optional(),database:y.coerce.string().optional(),scope:y.coerce.string()}).catchall(y.unknown()),Ln=y.union([vu,_u,Eu,Pn]),jn=y.string({invalid_type_error:"Not a valid token"}),Dn=y.union([y.object({namespace:y.string().optional(),database:y.string().optional(),scope:y.never().optional(),username:y.string(),password:y.string()}).transform(({namespace:r,database:e,username:t,password:n})=>{let s={user:t,pass:n};return r&&(s.ns=r,e&&(s.db=e)),s}),y.object({namespace:y.string(),database:y.string(),scope:y.string()}).catchall(y.unknown()).transform(({namespace:r,database:e,scope:t,...n})=>({ns:r,db:e,sc:t,...n}))]);function di({prepare:r,auth:e,namespace:t,database:n}){y.function().optional().parse(r),y.union([jn,Ln]).optional().parse(e);let s=t||n?bu.parse({namespace:t,database:n}):{namespace:void 0,database:void 0};return{prepare:r,auth:e,...s}}var xu=y.union([y.literal("CREATE"),y.literal("UPDATE"),y.literal("DELETE")]),hi=y.object({id:y.instanceof(ae),action:xu,result:y.record(y.unknown())});var oa=ss(ia(),1);var aa=">= 2.3.0";function ca(r){if(!bd(r))throw new Tr(r,aa);return!0}function bd(r){return oa.default.satisfies(r,aa)}async function Qn(r,e){let n={"ws:":"http:","wss:":"https:","http:":"http:","https:":"https:"}[r.protocol];if(n){r=new URL(r),r.protocol=n,r.pathname=r.pathname.slice(0,-4)+"/version";let s=new AbortController,i=setTimeout(()=>s.abort(),e),o="surrealdb-";return await fetch(r,{signal:s.signal}).then(u=>u.text()).then(u=>u.slice(o.length)).catch(()=>{throw new Ht}).finally(()=>{clearTimeout(i)})}throw new Ht}var ee;(function(r){r.Disconnected="disconnected",r.Connecting="connecting",r.Connected="connected",r.Error="error"})(ee||(ee={}));var es=class{constructor(...[e]){}},wr=class{constructor(e){Object.defineProperty(this,"ready",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:ee.Disconnected}),Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"emitter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"socket",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.emitter=e}setStatus(e,...t){this.status=e,this.emitter.emit(e,t)}async requireStatus(e){return this.status!=e&&await this.emitter.subscribeOnce(e),!0}version(e,t){return Qn(e,t)}async connect(e){this.connection.url=e,this.setStatus(ee.Connecting);let t=new wn(e.toString(),"cbor"),n=new Promise((s,i)=>{t.addEventListener("open",()=>{this.setStatus(ee.Connected),s()}),t.addEventListener("error",o=>{let a=new _r("error"in o?o.error:"An unexpected error occurred");this.setStatus(ee.Error,a),i(a)}),t.addEventListener("close",()=>{this.setStatus(ee.Disconnected)}),t.addEventListener("message",async({data:o})=>{let a=$n(o instanceof Blob?await o.arrayBuffer():o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength));typeof a=="object"&&!Array.isArray(a)&&a!=null?this.handleRpcResponse(a):this.setStatus(ee.Error,new zt(a))})});return this.ready=n,await n.then(()=>{this.socket=t})}async disconnect(){this.connection={},await this.ready?.catch(()=>{}),this.socket?.close(),this.ready=void 0,this.socket=void 0,await Promise.any([this.requireStatus(ee.Disconnected),this.requireStatus(ee.Error)])}async rpc(e){if(await this.ready,!this.socket)throw new Xt;let t=gn(),n=this.emitter.subscribeOnce(`rpc-${t}`);return this.socket.send(Cn({id:t,...e})),n.then(([s])=>{if(s instanceof St)throw s;if("result"in s)switch(e.method){case"use":{this.connection.namespace=y.string().parse(e.params?.[0]),this.connection.database=y.string().parse(e.params?.[1]);break}case"signin":case"signup":{this.connection.token=s.result;break}case"authenticate":{this.connection.token=e.params?.[0];break}case"invalidate":{delete this.connection.token;break}}return s})}handleRpcResponse({id:e,...t}){if(e)this.emitter.emit(`rpc-${e}`,[t]);else if(t.error)this.setStatus(ee.Error,new W(t.error));else{let n=hi.safeParse(t.result);if(n.success){let{id:s,action:i,result:o}=n.data;this.emitter.emit(`live-${s}`,[i,o],!0)}else this.setStatus(ee.Error,new zt({id:e,...t}))}}get connected(){return!!this.socket}},yr=class{constructor(e){Object.defineProperty(this,"ready",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:ee.Disconnected}),Object.defineProperty(this,"emitter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:{variables:{}}}),this.emitter=e}setStatus(e,...t){this.status=e,this.emitter.emit(e,t)}version(e,t){return Qn(e,t)}connect(e){return this.setStatus(ee.Connecting),this.connection.url=e,this.setStatus(ee.Connected),this.ready=new Promise(t=>t()),this.ready}disconnect(){return this.connection={variables:{}},this.ready=void 0,this.setStatus(ee.Disconnected),new Promise(e=>e())}async rpc(e){if(await this.ready,!this.connection.url)throw new Xt;if(e.method=="use"){let[i,o]=y.tuple([y.string(),y.string()]).parse(e.params);return i&&(this.connection.namespace=i),o&&(this.connection.database=o),{result:!0}}if(e.method=="let"){let[i,o]=y.tuple([y.string(),y.unknown()]).parse(e.params);return this.connection.variables[i]=o,{result:!0}}if(e.method=="unset"){let[i]=y.tuple([y.string()]).parse(e.params);return delete this.connection.variables[i],{result:!0}}if(e.method=="query"&&(e.params=[e.params?.[0],{...this.connection.variables,...e.params?.[1]??{}}]),!this.connection.namespace||!this.connection.database)throw new xr;let t=gn(),n=await fetch(`${this.connection.url}`,{method:"POST",headers:{"Content-Type":"application/cbor",Accept:"application/cbor","Surreal-NS":this.connection.namespace,"Surreal-DB":this.connection.database,...this.connection.token?{Authorization:`Bearer ${this.connection.token}`}:{}},body:Cn({id:t,...e})}),s=await n.arrayBuffer();if(n.status==200){let i=$n(s);if("result"in i)switch(e.method){case"signin":case"signup":{this.connection.token=i.result;break}case"authenticate":{this.connection.token=e.params?.[0];break}case"invalidate":{delete this.connection.token;break}}return this.emitter.emit(`rpc-${t}`,[i]),i}else{let i=new TextDecoder("utf-8");throw new Or(i.decode(s),n.status,n.statusText,s)}}get connected(){return!!this.connection.url}};var br=class{constructor({interceptors:e}={}){Object.defineProperty(this,"collectable",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"interceptors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.interceptors=e??{}}subscribe(e,t,n=!1){if(this.listeners[e]||(this.listeners[e]=[]),!this.isSubscribed(e,t)&&(this.listeners[e]?.push(t),n&&this.collectable[e])){let s=this.collectable[e];this.collectable[e]=[],s?.forEach(i=>t(...i))}}subscribeOnce(e,t=!1){return new Promise(n=>{let s=!1,i=(...o)=>{s||(s=!0,this.unSubscribe(e,i),n(o))};this.subscribe(e,i,t)})}unSubscribe(e,t){if(this.listeners[e]){let n=this.listeners[e]?.findIndex(s=>s==t);n&&this.listeners[e]?.splice(n,1)}}isSubscribed(e,t){return!!this.listeners[e]?.includes(t)}async emit(e,t,n=!1){let s=this.interceptors[e];t=s?await s(...t):t,this.listeners[e]?.length==0&&n&&(this.collectable[e]||(this.collectable[e]=[]),this.collectable[e]?.push(t)),this.listeners[e]?.forEach(i=>i(...t))}reset({collectable:e,listeners:t}){Array.isArray(e)?e.forEach(n=>delete this.collectable[n]):typeof e=="string"?delete this.collectable[e]:e!==!1&&(this.collectable={}),Array.isArray(t)?t.forEach(n=>delete this.listeners[n]):typeof t=="string"?delete this.listeners[t]:t!==!1&&(this.listeners={})}scanListeners(e){let t=Object.keys(this.listeners);return e&&(t=t.filter(e)),t}};function ts(r){return r==null}function rs(r,e){if("scope"in r){if(r.namespace||(r.namespace=e?.namespace),r.database||(r.database=e?.database),ts(r.namespace))throw new At;if(ts(r.database))throw new It}return r}var un=class{constructor({engines:e}={}){Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pinger",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ready",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"emitter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"engines",{enumerable:!0,configurable:!0,writable:!0,value:{ws:wr,wss:wr,http:yr,https:yr}}),this.emitter=new br,this.emitter.subscribe(ee.Disconnected,()=>this.clean()),this.emitter.subscribe(ee.Error,()=>this.close()),e&&(this.engines={...this.engines,...e})}async connect(e,t={}){e=new URL(e),e.pathname.endsWith("/rpc")||(e.pathname.endsWith("/")||(e.pathname+="/"),e.pathname+="rpc");let n=e.protocol.slice(0,-1),s=this.engines[n];if(!s)throw new Er(n);let{prepare:i,auth:o,namespace:a,database:u}=di(t);await this.close();let c=new s(this.emitter);if(t.versionCheck!==!1){let l=await c.version(e,t.versionCheckTimeout??5e3);ca(l)}return this.connection=c,this.pinger=new Nr(3e4),this.ready=new Promise((l,f)=>c.connect(e).then(async()=>{this.pinger?.start(()=>this.ping()),(a||u)&&await this.use({namespace:a,database:u}),typeof o=="string"?await this.authenticate(o):o&&await this.signin(o),await i?.(this),l()}).catch(f)),this.ready}async close(){this.clean(),await this.connection?.disconnect()}clean(){this.pinger?.stop();let e=this.emitter.scanListeners(t=>t.startsWith("rpc-"));e.map(t=>this.emitter.emit(t,[new St])),this.emitter.reset({collectable:!0,listeners:e})}get status(){return this.connection?.status}async ping(){let{error:e}=await this.rpc("ping");if(e)throw new W(e.message)}async use({namespace:e,database:t}){if(!this.connection)throw new Ce;if(!e&&!this.connection.connection.namespace)throw new At;if(!t&&!this.connection.connection.database)throw new It;let{error:n}=await this.rpc("use",[e??this.connection.connection.namespace,t??this.connection.connection.database]);if(n)throw new W(n.message)}async info(){await this.ready;let e=await this.rpc("info");if(e.error)throw new W(e.error.message);return e.result??void 0}async signup(e){if(!this.connection)throw new Ce;e=Pn.parse(e),e=rs(e,this.connection.connection);let t=await this.rpc("signup",[Dn.parse(e)]);if(t.error)throw new W(t.error.message);if(!t.result)throw new Yt;return t.result}async signin(e){if(!this.connection)throw new Ce;e=Ln.parse(e),e=rs(e,this.connection.connection);let t=await this.rpc("signin",[Dn.parse(e)]);if(t.error)throw new W(t.error.message);if(!t.result)throw new Yt;return t.result}async authenticate(e){let t=await this.rpc("authenticate",[jn.parse(e)]);if(t.error)throw new W(t.error.message);return!0}async invalidate(){let e=await this.rpc("invalidate");if(e.error)throw new W(e.error.message);return!0}async let(e,t){let n=await this.rpc("let",[e,t]);if(n.error)throw new W(n.error.message);return!0}async unset(e){let t=await this.rpc("unset",[e]);if(t.error)throw new W(t.error.message)}async live(e,t,n){await this.ready;let s=await this.rpc("live",[e,n]);if(s.error)throw new W(s.error.message);return t&&this.subscribeLive(s.result,t),s.result}async subscribeLive(e,t){if(await this.ready,!this.connection)throw new Ce;this.connection.emitter.subscribe(`live-${e}`,t,!0)}async unSubscribeLive(e,t){if(await this.ready,!this.connection)throw new Ce;this.connection.emitter.unSubscribe(`live-${e}`,t)}async kill(e){if(await this.ready,!this.connection)throw new Ce;if(Array.isArray(e)){await Promise.all(e.map(n=>this.rpc("kill",[n])));let t=e.map(n=>`live-${n}`);this.connection.emitter.reset({collectable:t,listeners:t})}else await this.rpc("kill",[e]),this.connection.emitter.reset({collectable:`live-${e}`,listeners:`live-${e}`})}async query(e,t){return(await this.query_raw(e,t)).map(({status:s,result:i})=>{if(s=="ERR")throw new W(i);return i})}async query_raw(e,t){typeof e!="string"&&(t=t??{},t={...t,...e.bindings},e=e.query),await this.ready;let n=await this.rpc("query",[e,t]);if(n.error)throw new W(n.error.message);return n.result}async select(e){await this.ready;let t=await this.rpc("select",[e]);if(t.error)throw new W(t.error.message);return t.result}async create(e,t){await this.ready;let n=await this.rpc("create",[e,t]);if(n.error)throw new W(n.error.message);return n.result}async insert(e,t){await this.ready;let n=await this.rpc("insert",[e,t]);if(n.error)throw new W(n.error.message);return n.result}async update(e,t){await this.ready;let n=await this.rpc("update",[e,t]);if(n.error)throw new W(n.error.message);return n.result}async merge(e,t){await this.ready;let n=await this.rpc("merge",[e,t]);if(n.error)throw new W(n.error.message);return n.result}async patch(e,t,n){await this.ready;let s=await this.rpc("patch",[e,t,n]);if(s.error)throw new W(s.error.message);return s.result}async delete(e){await this.ready;let t=await this.rpc("delete",[e]);if(t.error)throw new W(t.error.message);return t.result}async version(){await this.ready;let e=await this.rpc("version");if(e.error)throw new W(e.error.message);return e.result}async run(e,t,n){await this.ready;let[s,i]=Array.isArray(t)?[void 0,t]:[t,n],o=await this.rpc("run",[e,s,i]);if(o.error)throw new W(o.error.message);return o.result}async relate(e,t,n,s){await this.ready;let i=await this.rpc("relate",[e,t,n,s]);if(i.error)throw new W(i.error.message);return i.result}rpc(e,t){if(!this.connection)throw new Ce;return this.connection.rpc({method:e,params:t})}};var vr=class{constructor(e,t,n){Object.defineProperty(this,"query",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"bindings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"convert",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.query=e,this.convert=n,t&&(this.bindings=t)}};function ua(r,...e){let t=e.map((i,o)=>[`__tagged_template_literal_binding__${o}`,i]),n=t.reduce((i,[o,a])=>({...i,[o]:a}),{}),s=r.flatMap((i,o)=>{let a=t[o]?.[0];return[i,...a?[`$${a}`]:[]]}).join("");return new vr(s,n)}function Kp(r){return JSON.parse(JSON.stringify(r))}export{xu as Action,Ln as AnyAuth,ee as ConnectionStatus,Xt as ConnectionUnavailable,Eu as DatabaseAuth,be as Decimal,qt as Duration,br as Emitter,es as Engine,St as EngineDisconnected,Nt as GeometryCollection,Xe as GeometryLine,Ot as GeometryMultiLine,xt as GeometryMultiPoint,Tt as GeometryMultiPolygon,Me as GeometryPoint,it as GeometryPolygon,Or as HttpConnectionError,as as InvalidURLProvided,hi as LiveResult,xr as MissingNamespaceDatabase,_u as NamespaceAuth,Ce as NoActiveSocket,is as NoConnectionDetails,It as NoDatabaseSpecified,At as NoNamespaceSpecified,Yt as NoTokenReturned,vr as PreparedQuery,nr as RecordId,W as ResponseError,Pn as ScopeAuth,qr as StringRecordId,vu as SuperUserAuth,un as Surreal,te as SurrealDbError,ur as Table,jn as Token,Dn as TransformAuth,ae as UUID,_r as UnexpectedConnectionError,os as UnexpectedResponse,zt as UnexpectedServerResponse,Er as UnsupportedEngine,Tr as UnsupportedVersion,bu as UseOptions,Ht as VersionRetrievalFailure,$n as decodeCbor,un as default,Cn as encodeCbor,bd as isVersionSupported,Kp as jsonify,di as processConnectionOptions,Qn as retrieveRemoteVersion,aa as supportedSurrealDbVersionRange,ua as surql,ua as surrealql,Ss as uuidv4,Rs as uuidv7,ca as versionCheck};
/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
/**
 * uuidv7: An experimental implementation of the proposed UUID Version 7
 *
 * @license Apache-2.0
 * @copyright 2021-2023 LiosK
 * @packageDocumentation
 */
//# sourceMappingURL=index.js.map
