/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

"use strict";var e=require("@lexical/extension"),t=require("@lexical/utils"),n=require("lexical"),r=require("@lexical/selection");function s(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const e of t)r.append("v",e);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function i(e){let t=1,n=e.getParent();for(;null!=n;){if(L(n)){const e=n.getParent();if(R(e)){t++,n=e.getParent();continue}s(40)}return t}return t}function o(e){let t=e.getParent();R(t)||s(40);let n=t;for(;null!==n;)n=n.getParent(),R(n)&&(t=n);return t}function l(e){let t=[];const n=e.getChildren().filter(L);for(let e=0;e<n.length;e++){const r=n[e],s=r.getFirstChild();R(s)?t=t.concat(l(s)):t.push(r)}return t}function c(e){return L(e)&&R(e.getFirstChild())}function a(e){return O().append(e)}function g(e,t){return L(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function d(e){const t=n.$getSelection();if(null!==t){let r=t.getNodes();if(n.$isRangeSelection(t)){const i=t.getStartEndPoints();null===i&&s(143);const[o]=i,l=o.getNode(),c=l.getParent();if(n.$isRootOrShadowRoot(l)){const e=l.getFirstChild();if(e)r=e.selectStart().getNodes();else{const e=n.$createParagraphNode();l.append(e),r=e.select().getNodes()}}else if(g(l,r)){const t=k(e);if(n.$isRootOrShadowRoot(c)){l.replace(t);const e=O();n.$isElementNode(l)&&(e.setFormat(l.getFormatType()),e.setIndent(l.getIndent())),t.append(e)}else if(L(l)){const e=l.getParentOrThrow();u(t,e.getChildren()),e.replace(t)}return}}const i=new Set;for(let t=0;t<r.length;t++){const s=r[t];if(n.$isElementNode(s)&&s.isEmpty()&&!L(s)&&!i.has(s.getKey())){h(s,e);continue}let o=n.$isLeafNode(s)?s.getParent():L(s)&&s.isEmpty()?s:null;for(;null!=o;){const t=o.getKey();if(R(o)){if(!i.has(t)){const n=k(e);u(n,o.getChildren()),o.replace(n),i.add(t)}break}{const r=o.getParent();if(n.$isRootOrShadowRoot(r)&&!i.has(t)){i.add(t),h(o,e);break}o=r}}}}}function u(e,t){e.splice(e.getChildrenSize(),0,t)}function h(e,t){if(R(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),s=O();let i;if(u(s,e.getChildren()),R(n)&&t===n.getListType())n.append(s),R(r)&&t===r.getListType()&&(u(n,r.getChildren()),r.remove()),i=n;else if(R(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(s),i=r;else{const n=k(t);n.append(s),e.replace(n),i=n}return s.setFormat(e.getFormatType()),s.setIndent(e.getIndent()),e.remove(),i}function f(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&c(n)&&c(r)&&(f(n.getFirstChild(),r.getFirstChild()),r.remove());const s=t.getChildren();s.length>0&&e.append(...s),t.remove()}function p(){const e=n.$getSelection();if(n.$isRangeSelection(e)){const r=new Set,s=e.getNodes(),i=e.anchor.getNode();if(g(i,s))r.add(o(i));else for(let e=0;e<s.length;e++){const i=s[e];if(n.$isLeafNode(i)){const e=t.$getNearestNodeOfType(i,S);null!=e&&r.add(o(e))}}for(const t of r){let r=t;const s=l(t);for(const t of s){const s=n.$createParagraphNode().setTextStyle(e.style).setTextFormat(e.format);u(s,t.getChildren()),r.insertAfter(s),r=s,t.__key===e.anchor.key&&n.$setPointFromCaret(e.anchor,n.$normalizeCaret(n.$getChildCaret(s,"next"))),t.__key===e.focus.key&&n.$setPointFromCaret(e.focus,n.$normalizeCaret(n.$getChildCaret(s,"next"))),t.remove()}t.remove()}}}function m(e){const t="check"!==e.getListType();let n=e.getStart();for(const r of e.getChildren())L(r)&&(r.getValue()!==n&&r.setValue(n),t&&null!=r.getLatest().__checked&&r.setChecked(void 0),R(r.getFirstChild())||n++)}function _(e){const t=new Set;if(c(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),s=e.getPreviousSibling();if(c(r)&&c(s)){const n=s.getFirstChild();if(R(n)){n.append(e);const s=r.getFirstChild();if(R(s)){u(n,s.getChildren()),r.remove(),t.add(r.getKey())}}}else if(c(r)){const t=r.getFirstChild();if(R(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e)}}else if(c(s)){const t=s.getFirstChild();R(t)&&t.append(e)}else if(R(n)){const t=O().setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle()),i=k(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());t.append(i),i.append(e),s?s.insertAfter(t):r?r.insertBefore(t):n.append(t)}}function C(e){if(c(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(R(n?n.getParent():void 0)&&L(n)&&R(t)){const r=t?t.getFirstChild():void 0,s=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(s))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),s=O(),i=k(r);s.append(i),e.getPreviousSiblings().forEach(e=>i.append(e));const o=O(),l=k(r);o.append(l),u(l,e.getNextSiblings()),n.insertBefore(s),n.insertAfter(o),n.replace(e)}}}function N(){const e=n.$getSelection();if(!n.$isRangeSelection(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!L(t)||0!==t.getChildrenSize())return!1;const r=o(t),i=t.getParent();R(i)||s(40);const l=i.getParent();let c;if(n.$isRootOrShadowRoot(l))c=n.$createParagraphNode(),r.insertAfter(c);else{if(!L(l))return!1;c=O(),l.insertAfter(c)}c.setTextStyle(e.style).setTextFormat(e.format).select();const a=t.getNextSiblings();if(a.length>0){const e=k(i.getListType());if(L(c)){const t=O();t.append(e),c.insertAfter(t)}else c.insertAfter(e);e.append(...a)}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!L(e)&&!R(e))break;t=e}t.remove()}(t),!0}function T(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}class S extends n.ElementNode{__value;__checked;$config(){return this.config("listitem",{$transform:e=>{if(null==e.__checked)return;const t=e.getParent();R(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)},extends:n.ElementNode,importDOM:n.buildImportMap({li:()=>({conversion:y,priority:0})})})}constructor(e=1,t=void 0,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){const t=document.createElement("li");return this.updateListItemDOM(null,t,e),t}updateListItemDOM(e,n,s){!function(e,t,n){const r=t.getParent();!R(r)||"check"!==r.getListType()||R(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}(n,this,e),n.value=this.__value,function(e,n,r){const s=[],i=[],o=n.list,l=o?o.listitem:void 0;let c;o&&o.nested&&(c=o.nested.listitem);void 0!==l&&s.push(...T(l));if(o){const e=r.getParent(),t=R(e)&&"check"===e.getListType(),n=r.getChecked();t&&!n||i.push(o.listitemUnchecked),t&&n||i.push(o.listitemChecked),t&&s.push(n?o.listitemChecked:o.listitemUnchecked)}if(void 0!==c){const e=T(c);r.getChildren().some(e=>R(e))?s.push(...e):i.push(...e)}i.length>0&&t.removeClassNamesFromElement(e,...i);s.length>0&&t.addClassNamesToElement(e,...s)}(n,s.theme,this);const i=e?e.__style:"",o=this.__style;i!==o&&(""===o?n.removeAttribute("style"):n.style.cssText=o),function(e,t,n){const s=r.getStyleObjectFromCSS(t.__textStyle);for(const t in s)e.style.setProperty(`--listitem-marker-${t}`,s[t]);if(n)for(const t in r.getStyleObjectFromCSS(n.__textStyle))t in s||e.style.removeProperty(`--listitem-marker-${t}`)}(n,this,e)}updateDOM(e,t,n){const r=t;return this.updateListItemDOM(e,r,n),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),n=this.getFormatType();n&&(t.style.textAlign=n);const r=this.getDirection();return r&&(t.dir=r),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){const r=e[t];if(n.$isElementNode(r)&&this.canMergeWith(r)){const e=r.getChildren();this.append(...e),r.remove()}else super.append(r)}return this}replace(e,t){if(L(e))return super.replace(e);this.setIndent(0);const r=this.getParentOrThrow();if(!R(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{const t=k(r.getListType());let n=this.getNextSibling();for(;n;){const e=n;n=n.getNextSibling(),t.append(e)}r.insertAfter(e),e.insertAfter(t)}return t&&(n.$isElementNode(e)||s(139),this.getChildren().forEach(t=>{e.append(t)})),this.remove(),0===r.getChildrenSize()&&r.remove(),e}insertAfter(e,t=!0){const n=this.getParentOrThrow();if(R(n)||s(39),L(e))return super.insertAfter(e,t);const r=this.getNextSiblings();if(n.insertAfter(e,t),0!==r.length){const s=k(n.getListType());r.forEach(e=>s.append(e)),e.insertAfter(s,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&c(t)&&c(n)&&(f(t.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(e,t=!0){const n=O().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=n.$createParagraphNode();this.getChildren().forEach(e=>t.append(e));const r=this.getParentOrThrow(),s=r.getParentOrThrow(),i=L(s);if(1===r.getChildrenSize())if(i)r.remove(),s.select();else{r.insertBefore(t),r.remove();const n=e.anchor,s=e.focus,i=t.getKey();"element"===n.type&&n.getNode().is(this)&&n.set(i,n.offset,"element"),"element"===s.type&&s.getNode().is(this)&&s.set(i,s.offset,"element")}else r.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const n=this.getParent();return R(n)&&(t=n.getListType()),"check"===t?Boolean(e.__checked):void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(null===e||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;L(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){"number"!=typeof e&&s(117),(e=Math.floor(e))>=0||s(199);let t=this.getIndent();for(;t!==e;)t<e?(_(this),t++):(C(this),t--);return this}canInsertAfter(e){return L(e)}canReplaceWith(e){return L(e)}canMergeWith(e){return L(e)||n.$isParagraphNode(e)}extractWithChild(e,t){if(!n.$isRangeSelection(t))return!1;const r=t.anchor.getNode(),s=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(s)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return k("bullet")}canMergeWhenEmpty(){return!0}}function y(e){if(e.classList.contains("task-list-item"))for(const t of e.children)if("INPUT"===t.tagName)return x(t);if(e.classList.contains("joplin-checkbox"))for(const t of e.children)if(t.classList.contains("checkbox-wrapper")&&t.children.length>0&&"INPUT"===t.children[0].tagName)return x(t.children[0]);const t=e.getAttribute("aria-checked");return{node:O("true"===t||"false"!==t&&void 0)}}function x(e){if(!("checkbox"===e.getAttribute("type")))return{node:null};return{node:O(e.hasAttribute("checked"))}}function O(e){return n.$applyNodeReplacement(new S(void 0,e))}function L(e){return e instanceof S}class v extends n.ElementNode{__tag;__start;__listType;$config(){return this.config("list",{$transform:e=>{!function(e){const t=e.getNextSibling();R(t)&&e.getListType()===t.getListType()&&f(e,t)}(e),m(e)},extends:n.ElementNode,importDOM:n.buildImportMap({ol:()=>({conversion:P,priority:0}),ul:()=>({conversion:P,priority:0})})})}constructor(e="number",t=1,n){super(n);const r=A[e]||e;this.__listType=r,this.__tag="number"===r?"ol":"ul",this.__start=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag="number"===e?"ol":"ul",t}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,M(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||e.__listType!==this.__listType||(M(t,n.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const n=this.createDOM(e._config,e);return t.isHTMLElement(n)&&(1!==this.__start&&n.setAttribute("start",String(this.__start)),"check"===this.__listType&&n.setAttribute("__lexicalListType","check")),{element:n}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,r){let s=r;for(let e=0;e<r.length;e++){const t=r[e];L(t)||(s===r&&(s=[...r]),s[e]=O().append(!n.$isElementNode(t)||R(t)||t.isInline()?t:n.$createTextNode(t.getTextContent())))}return super.splice(e,t,s)}extractWithChild(e){return L(e)}}function M(e,n,r){const s=[],o=[],l=n.list;if(void 0!==l){const e=l[`${r.__tag}Depth`]||[],t=i(r)-1,n=t%e.length,c=e[n],a=l[r.__tag];let g;const d=l.nested,u=l.checklist;if(void 0!==d&&d.list&&(g=d.list),void 0!==a&&s.push(a),void 0!==u&&"check"===r.__listType&&s.push(u),void 0!==c){s.push(...T(c));for(let t=0;t<e.length;t++)t!==n&&o.push(r.__tag+t)}if(void 0!==g){const e=T(g);t>1?s.push(...e):o.push(...e)}}o.length>0&&t.removeClassNamesFromElement(e,...o),s.length>0&&t.addClassNamesToElement(e,...s)}function E(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(L(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach(e=>{R(e)&&t.push(a(e))})}else t.push(a(r))}return t}function P(e){const n=e.nodeName.toLowerCase();let r=null;if("ol"===n){r=k("number",e.start)}else"ul"===n&&(r=function(e){if("check"===e.getAttribute("__lexicallisttype")||e.classList.contains("contains-task-list")||"1"===e.getAttribute("data-is-checklist"))return!0;for(const n of e.childNodes)if(t.isHTMLElement(n)&&n.hasAttribute("aria-checked"))return!0;return!1}(e)?k("check"):k("bullet"));return{after:E,node:r}}const A={ol:"number",ul:"bullet"};function k(e="number",t=1){return n.$applyNodeReplacement(new v(e,t))}function R(e){return e instanceof v}const b=n.createCommand("INSERT_CHECK_LIST_COMMAND");function I(e){return t.mergeRegister(e.registerCommand(b,()=>(d("check"),!0),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.KEY_ARROW_DOWN_COMMAND,t=>W(t,e,!1),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.KEY_ARROW_UP_COMMAND,t=>W(t,e,!0),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.KEY_ESCAPE_COMMAND,()=>{if(null!=w()){const t=e.getRootElement();return null!=t&&t.focus(),!0}return!1},n.COMMAND_PRIORITY_LOW),e.registerCommand(n.KEY_SPACE_COMMAND,t=>{const r=w();return!(null==r||!e.isEditable())&&(e.update(()=>{const e=n.$getNearestNodeFromDOMNode(r);L(e)&&(t.preventDefault(),e.toggleChecked())}),!0)},n.COMMAND_PRIORITY_LOW),e.registerCommand(n.KEY_ARROW_LEFT_COMMAND,r=>e.getEditorState().read(()=>{const s=n.$getSelection();if(n.$isRangeSelection(s)&&s.isCollapsed()){const{anchor:i}=s,o="element"===i.type;if(o||0===i.offset){const s=i.getNode(),l=t.$findMatchingParent(s,e=>n.$isElementNode(e)&&!e.isInline());if(L(l)){const t=l.getParent();if(R(t)&&"check"===t.getListType()&&(o||l.getFirstDescendant()===s)){const t=e.getElementByKey(l.__key);if(null!=t&&document.activeElement!==t)return t.focus(),r.preventDefault(),!0}}}}return!1}),n.COMMAND_PRIORITY_LOW),e.registerRootListener((e,t)=>{null!==e&&(e.addEventListener("click",D),e.addEventListener("pointerdown",$)),null!==t&&(t.removeEventListener("click",D),t.removeEventListener("pointerdown",$))}))}function F(e,n){const r=e.target;if(!t.isHTMLElement(r))return;const s=r.firstChild;if(t.isHTMLElement(s)&&("UL"===s.tagName||"OL"===s.tagName))return;const i=r.parentNode;if(!i||"check"!==i.__lexicalListType)return;const o=r.getBoundingClientRect(),l=t.calculateZoomLevel(r),c=e.clientX/l,a=window.getComputedStyle?window.getComputedStyle(r,"::before"):{width:"0px"},g=parseFloat(a.width),d="touch"===e.pointerType?32:0;("rtl"===r.dir?c<o.right+d&&c>o.right-g-d:c>o.left-d&&c<o.left+g+d)&&n()}function D(e){F(e,()=>{if(t.isHTMLElement(e.target)){const t=e.target,r=n.getNearestEditorFromDOMNode(t);null!=r&&r.isEditable()&&r.update(()=>{const e=n.$getNearestNodeFromDOMNode(t);L(e)&&(t.focus(),e.toggleChecked())})}})}function $(e){F(e,()=>{e.preventDefault()})}function w(){const e=document.activeElement;return t.isHTMLElement(e)&&"LI"===e.tagName&&null!=e.parentNode&&"check"===e.parentNode.__lexicalListType?e:null}function W(e,t,r){const s=w();return null!=s&&t.update(()=>{const i=n.$getNearestNodeFromDOMNode(s);if(!L(i))return;const o=function(e,t){let n=t?e.getPreviousSibling():e.getNextSibling(),r=e;for(;null==n&&L(r);)r=r.getParentOrThrow().getParent(),null!=r&&(n=t?r.getPreviousSibling():r.getNextSibling());for(;L(n);){const e=t?n.getLastChild():n.getFirstChild();if(!R(e))return n;n=t?e.getLastChild():e.getFirstChild()}return null}(i,r);if(null!=o){o.selectStart();const n=t.getElementByKey(o.__key);null!=n&&(e.preventDefault(),setTimeout(()=>{n.focus()},0))}}),!1}const K=n.createCommand("UPDATE_LIST_START_COMMAND"),Y=n.createCommand("INSERT_UNORDERED_LIST_COMMAND"),B=n.createCommand("INSERT_ORDERED_LIST_COMMAND"),U=n.createCommand("REMOVE_LIST_COMMAND");function J(e){const r=t.mergeRegister(e.registerCommand(B,()=>(d("number"),!0),n.COMMAND_PRIORITY_LOW),e.registerCommand(K,e=>{const{listNodeKey:t,newStart:r}=e,s=n.$getNodeByKey(t);return!!R(s)&&("number"===s.getListType()&&(s.setStart(r),m(s)),!0)},n.COMMAND_PRIORITY_LOW),e.registerCommand(Y,()=>(d("bullet"),!0),n.COMMAND_PRIORITY_LOW),e.registerCommand(U,()=>(p(),!0),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.INSERT_PARAGRAPH_COMMAND,()=>N(),n.COMMAND_PRIORITY_LOW),e.registerNodeTransform(S,e=>{const t=e.getFirstChild();if(t){if(n.$isTextNode(t)){const n=t.getStyle(),r=t.getFormat();e.getTextStyle()!==n&&e.setTextStyle(n),e.getTextFormat()!==r&&e.setTextFormat(r)}}else{const t=n.$getSelection();n.$isRangeSelection(t)&&(t.style!==e.getTextStyle()||t.format!==e.getTextFormat())&&t.isCollapsed()&&e.is(t.anchor.getNode())&&e.setTextStyle(t.style).setTextFormat(t.format)}}),e.registerNodeTransform(n.TextNode,e=>{const t=e.getParent();if(L(t)&&e.is(t.getFirstChild())){const n=e.getStyle(),r=e.getFormat();n===t.getTextStyle()&&r===t.getTextFormat()||t.setTextStyle(n).setTextFormat(r)}}));return r}function H(e){const n=e=>{const n=e.getParent();if(R(e.getFirstChild())||!R(n))return;const r=t.$findMatchingParent(e,e=>L(e)&&R(e.getParent())&&L(e.getPreviousSibling()));if(null===r&&e.getIndent()>0)e.setIndent(0);else if(L(r)){const t=r.getPreviousSibling();if(L(t)){const r=function(e){let t=e,n=t.getFirstChild();for(;R(n);){const e=n.getLastChild();if(!L(e))break;t=e,n=t.getFirstChild()}return t}(t),s=r.getParent();if(R(s)){const t=i(s);t+1<i(n)&&e.setIndent(t)}}}};return e.registerNodeTransform(v,e=>{const t=[e];for(;t.length>0;){const e=t.shift();if(R(e))for(const r of e.getChildren())if(L(r)){n(r);const e=r.getFirstChild();R(e)&&t.push(e)}}})}const V=n.defineExtension({build:(t,n,r)=>e.namedSignals(n),config:n.safeCast({hasStrictIndent:!1}),name:"@lexical/list/List",nodes:[v,S],register(n,r,s){const i=s.getOutput();return t.mergeRegister(J(n),e.effect(()=>i.hasStrictIndent.value?H(n):void 0))}}),z=n.defineExtension({dependencies:[V],name:"@lexical/list/CheckList",register:I});exports.$createListItemNode=O,exports.$createListNode=k,exports.$getListDepth=i,exports.$handleListInsertParagraph=N,exports.$insertList=d,exports.$isListItemNode=L,exports.$isListNode=R,exports.$removeList=p,exports.CheckListExtension=z,exports.INSERT_CHECK_LIST_COMMAND=b,exports.INSERT_ORDERED_LIST_COMMAND=B,exports.INSERT_UNORDERED_LIST_COMMAND=Y,exports.ListExtension=V,exports.ListItemNode=S,exports.ListNode=v,exports.REMOVE_LIST_COMMAND=U,exports.UPDATE_LIST_START_COMMAND=K,exports.insertList=function(e,t){e.update(()=>d(t))},exports.registerCheckList=I,exports.registerList=J,exports.registerListStrictIndentTransform=H,exports.removeList=function(e){e.update(()=>p())};
